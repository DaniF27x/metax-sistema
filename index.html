<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MetaX - Sistema de Auditoria</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; padding: 0; font-family: system-ui, -apple-system, sans-serif; }
        #root { min-height: 100vh; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script>
        // Aguardar React carregar e renderizar imediatamente
        (function() {
            console.log('üöÄ Inicializando MetaX System...');
            
            // Verificar se React est√° dispon√≠vel
            if (typeof React === 'undefined' || typeof ReactDOM === 'undefined') {
                console.error('‚ùå React n√£o carregado');
                document.getElementById('root').innerHTML = '<div style="padding: 2rem; text-align: center; color: red;">Erro: React n√£o carregado</div>';
                return;
            }

            const { useState, useEffect, createElement: h } = React;
            
            // Hook para localStorage
            const useStoredState = (key, initialValue) => {
                const [value, setValue] = useState(() => {
                    try {
                        const item = localStorage.getItem(key);
                        return item ? JSON.parse(item) : initialValue;
                    } catch {
                        return initialValue;
                    }
                });

                useEffect(() => {
                    try {
                        localStorage.setItem(key, JSON.stringify(value));
                    } catch (e) {
                        console.error('Erro localStorage:', e);
                    }
                }, [key, value]);

                return [value, setValue];
            };

            // Componente principal simplificado
            const MetaXSystem = () => {
                const [currentUser, setCurrentUser] = useStoredState('currentUser', null);
                const [users] = useStoredState('users', [
                    {
                        id: 'admin001',
                        nome: 'Administrador Sistema',
                        senha: 'admin123',
                        cargo: 'CEO',
                        status: 'aprovado',
                        createdAt: new Date().toISOString()
                    }
                ]);
                const [pendingUsers, setPendingUsers] = useStoredState('pendingUsers', []);
                const [currentView, setCurrentView] = useStoredState('currentView', 'login');

                console.log('üîç Estado atual:', { currentUser, currentView });

                // Tela de Login
                const LoginForm = () => {
                    const [loginData, setLoginData] = useState({ id: '', senha: '' });
                    const [registerData, setRegisterData] = useState({
                        nome: '', id: '', senha: '', cargo: 'Staff Geral'
                    });
                    const [isRegister, setIsRegister] = useState(false);

                    const handleLogin = () => {
                        console.log('üîê Tentativa de login:', loginData);
                        
                        const user = users.find(u => 
                            u.id === loginData.id && 
                            u.senha === loginData.senha && 
                            u.status === 'aprovado'
                        );
                        
                        console.log('üë§ Usu√°rio encontrado:', user);
                        
                        if (user) {
                            console.log('‚úÖ Login bem-sucedido!');
                            setCurrentUser(user);
                            setCurrentView('dashboard');
                        } else {
                            alert('‚ùå ID ou senha incorretos, ou usu√°rio ainda n√£o aprovado!');
                        }
                    };

                    const handleRegister = () => {
                        if (!registerData.nome || !registerData.id || !registerData.senha) {
                            alert('‚ö†Ô∏è Preencha todos os campos!');
                            return;
                        }

                        const existingUser = [...users, ...pendingUsers].find(u => u.id === registerData.id);
                        if (existingUser) {
                            alert('‚ùå ID j√° existe! Escolha outro ID.');
                            return;
                        }

                        const newUser = {
                            ...registerData,
                            status: 'pendente',
                            createdAt: new Date().toISOString()
                        };

                        setPendingUsers([...pendingUsers, newUser]);
                        alert('‚úÖ Cadastro enviado para aprova√ß√£o! Aguarde a an√°lise de um administrador.');
                        setIsRegister(false);
                        setRegisterData({ nome: '', id: '', senha: '', cargo: 'Staff Geral' });
                    };

                // P√°gina de Administra√ß√£o
                const AdminPage = () => {
                    const [users, setUsers] = useStoredState('users', []);
                    const [pendingUsers, setPendingUsers] = useStoredState('pendingUsers', []);
                    const [checklists, setChecklists] = useStoredState('checklists', []);
                    const [auditorias, setAuditorias] = useStoredState('auditorias', []);

                    // Verificar se o usu√°rio tem permiss√£o
                    if (!['CEO', 'Diretor'].includes(currentUser?.cargo)) {
                        return h('div', { style: { minHeight: '100vh', background: '#f8fafc', display: 'flex', alignItems: 'center', justifyContent: 'center' } },
                            h('div', { style: { textAlign: 'center', background: 'white', padding: '2rem', borderRadius: '1rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                h('h2', { style: { color: '#ef4444', marginBottom: '1rem' } }, 'üö´ Acesso Negado'),
                                h('p', { style: { color: '#6b7280', marginBottom: '1rem' } }, 'Apenas CEOs e Diretores podem acessar esta √°rea.'),
                                h('button', {
                                    onClick: () => setCurrentView('dashboard'),
                                    style: { background: '#3b82f6', color: 'white', padding: '0.5rem 1rem', border: 'none', borderRadius: '0.5rem', cursor: 'pointer' }
                                }, 'Voltar ao Dashboard')
                            )
                        );
                    }

                    const approveUser = (userId) => {
                        const user = pendingUsers.find(u => u.id === userId);
                        if (user) {
                            setUsers([...users, { ...user, status: 'aprovado' }]);
                            setPendingUsers(pendingUsers.filter(u => u.id !== userId));
                            alert('‚úÖ Usu√°rio aprovado com sucesso!');
                        }
                    };

                    const rejectUser = (userId) => {
                        setPendingUsers(pendingUsers.filter(u => u.id !== userId));
                        alert('‚ùå Usu√°rio rejeitado!');
                    };

                    const approveChecklist = (checklistId) => {
                        setChecklists(checklists.map(c => 
                            c.id === checklistId ? { 
                                ...c, 
                                status: 'aprovado', 
                                approvedBy: currentUser.id, 
                                approvedAt: new Date().toISOString() 
                            } : c
                        ));
                        alert('‚úÖ Checklist aprovado!');
                    };

                    const approveAuditoria = (auditoriaId) => {
                        setAuditorias(auditorias.map(a => 
                            a.id === auditoriaId ? { 
                                ...a, 
                                status: 'aprovada', 
                                approvedBy: currentUser.id, 
                                approvedAt: new Date().toISOString() 
                            } : a
                        ));
                        alert('‚úÖ Auditoria aprovada!');
                    };

                    const checklistsPendentes = checklists.filter(c => c.status === 'aguardando_aprovacao');
                    const auditoriasPendentes = auditorias.filter(a => a.status === 'aguardando_aprovacao');

                    return h('div', { style: { minHeight: '100vh', background: '#f8fafc' } },
                        // Header
                        h('div', { style: { background: 'white', borderBottom: '4px solid #8b5cf6', padding: '1rem 0' } },
                            h('div', { style: { maxWidth: '1200px', margin: '0 auto', padding: '0 1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                h('h1', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', margin: 0 } }, 'MetaX - Administra√ß√£o'),
                                h('button', {
                                    onClick: () => {
                                        setCurrentUser(null);
                                        setCurrentView('login');
                                    },
                                    style: { background: '#ef4444', color: 'white', padding: '0.5rem 1rem', border: 'none', borderRadius: '0.5rem', cursor: 'pointer' }
                                }, 'Sair')
                            )
                        ),
                        
                        h('div', { style: { display: 'flex' } },
                            // Sidebar
                            h('div', { style: { background: '#1f2937', color: 'white', width: '16rem', minHeight: 'calc(100vh - 80px)' } },
                                h('div', { style: { padding: '1rem' } },
                                    ['dashboard', 'checklist', 'auditoria', 'painel', 'admin'].map(view => 
                                        h('button', {
                                            key: view,
                                            onClick: () => setCurrentView(view),
                                            style: {
                                                width: '100%',
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: '0.75rem',
                                                padding: '0.75rem',
                                                background: currentView === view ? '#8b5cf6' : 'transparent',
                                                color: 'white',
                                                border: 'none',
                                                borderRadius: '0.5rem',
                                                cursor: 'pointer',
                                                marginBottom: '0.5rem'
                                            }
                                        }, 
                                        view === 'dashboard' ? 'üìä Dashboard' :
                                        view === 'checklist' ? '‚úÖ Checklist' :
                                        view === 'auditoria' ? 'üîç Auditoria' :
                                        view === 'painel' ? 'üèôÔ∏è Painel da Cidade' : '‚öôÔ∏è Administra√ß√£o'
                                        )
                                    )
                                )
                            ),
                            
                            // Conte√∫do principal
                            h('div', { style: { flex: 1, padding: '2rem' } },
                                h('h2', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '2rem' } }, 'Painel de Administra√ß√£o'),
                                
                                // Cards de estat√≠sticas
                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginBottom: '2rem' } },
                                    h('div', { style: { background: '#fef3c7', padding: '1.5rem', borderRadius: '1rem', textAlign: 'center' } },
                                        h('div', { style: { fontSize: '2rem', marginBottom: '0.5rem' } }, 'üë•'),
                                        h('p', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#92400e', margin: 0 } }, pendingUsers.length),
                                        h('p', { style: { color: '#78716c', fontSize: '0.875rem', margin: 0 } }, 'Usu√°rios Pendentes')
                                    ),
                                    h('div', { style: { background: '#dbeafe', padding: '1.5rem', borderRadius: '1rem', textAlign: 'center' } },
                                        h('div', { style: { fontSize: '2rem', marginBottom: '0.5rem' } }, '‚úÖ'),
                                        h('p', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#1e40af', margin: 0 } }, checklistsPendentes.length),
                                        h('p', { style: { color: '#6b7280', fontSize: '0.875rem', margin: 0 } }, 'Checklists Pendentes')
                                    ),
                                    h('div', { style: { background: '#f3e8ff', padding: '1.5rem', borderRadius: '1rem', textAlign: 'center' } },
                                        h('div', { style: { fontSize: '2rem', marginBottom: '0.5rem' } }, 'üîç'),
                                        h('p', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#7c2d12', margin: 0 } }, auditoriasPendentes.length),
                                        h('p', { style: { color: '#6b7280', fontSize: '0.875rem', margin: 0 } }, 'Auditorias Pendentes')
                                    ),
                                    h('div', { style: { background: '#ecfdf5', padding: '1.5rem', borderRadius: '1rem', textAlign: 'center' } },
                                        h('div', { style: { fontSize: '2rem', marginBottom: '0.5rem' } }, 'üë§'),
                                        h('p', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#166534', margin: 0 } }, users.length),
                                        h('p', { style: { color: '#6b7280', fontSize: '0.875rem', margin: 0 } }, 'Usu√°rios Ativos')
                                    )
                                ),

                                // Usu√°rios pendentes de aprova√ß√£o
                                pendingUsers.length > 0 && h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)', marginBottom: '2rem' } },
                                    h('h3', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1.5rem', display: 'flex', alignItems: 'center', gap: '0.5rem' } }, 
                                        'üë• Usu√°rios Pendentes de Aprova√ß√£o'
                                    ),
                                    h('div', { style: { display: 'grid', gap: '1rem' } },
                                        pendingUsers.map(user => 
                                            h('div', { 
                                                key: user.id,
                                                style: { 
                                                    display: 'flex', 
                                                    justifyContent: 'space-between', 
                                                    alignItems: 'center', 
                                                    padding: '1rem', 
                                                    border: '1px solid #fed7aa', 
                                                    borderRadius: '0.5rem',
                                                    background: '#fff7ed'
                                                }
                                            },
                                                h('div', null,
                                                    h('p', { style: { fontWeight: 'bold', color: '#1f2937' } }, user.nome),
                                                    h('p', { style: { fontSize: '0.875rem', color: '#6b7280' } }, `ID: ${user.id} | Cargo: ${user.cargo}`),
                                                    h('p', { style: { fontSize: '0.75rem', color: '#9ca3af' } }, 
                                                        `Cadastrado em: ${new Date(user.createdAt).toLocaleDateString('pt-BR')}`
                                                    )
                                                ),
                                                h('div', { style: { display: 'flex', gap: '0.5rem' } },
                                                    h('button', {
                                                        onClick: () => approveUser(user.id),
                                                        style: { 
                                                            background: '#10b981', 
                                                            color: 'white', 
                                                            padding: '0.5rem 1rem', 
                                                            border: 'none', 
                                                            borderRadius: '0.25rem', 
                                                            cursor: 'pointer',
                                                            fontSize: '0.875rem'
                                                        }
                                                    }, '‚úÖ Aprovar'),
                                                    h('button', {
                                                        onClick: () => rejectUser(user.id),
                                                        style: { 
                                                            background: '#ef4444', 
                                                            color: 'white', 
                                                            padding: '0.5rem 1rem', 
                                                            border: 'none', 
                                                            borderRadius: '0.25rem', 
                                                            cursor: 'pointer',
                                                            fontSize: '0.875rem'
                                                        }
                                                    }, '‚ùå Rejeitar')
                                                )
                                            )
                                        )
                                    )
                                ),

                                // Se√ß√£o de aprova√ß√µes
                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(450px, 1fr))', gap: '1.5rem' } },
                                    // Checklists para aprova√ß√£o
                                    h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                        h('h3', { style: { fontSize: '1.25rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem' } }, 
                                            '‚úÖ Checklists para Aprova√ß√£o'
                                        ),
                                        checklistsPendentes.length === 0 ? 
                                            h('p', { style: { color: '#6b7280', textAlign: 'center', padding: '2rem' } }, 'Nenhum checklist pendente') :
                                            h('div', { style: { display: 'grid', gap: '1rem' } },
                                                checklistsPendentes.map(checklist => 
                                                    h('div', { 
                                                        key: checklist.id,
                                                        style: { 
                                                            padding: '1rem', 
                                                            border: '1px solid #bfdbfe', 
                                                            borderRadius: '0.5rem',
                                                            background: '#eff6ff'
                                                        }
                                                    },
                                                        h('div', { style: { marginBottom: '0.75rem' } },
                                                            h('p', { style: { fontWeight: 'bold', color: '#1f2937' } }, 
                                                                `${checklist.tipo === 'staff' ? 'Staff' : 'RP'} - ${checklist.equipe || checklist.setor}`
                                                            ),
                                                            h('p', { style: { fontSize: '0.875rem', color: '#6b7280' } }, 
                                                                `Por: ${users.find(u => u.id === checklist.autorId)?.nome || 'Usu√°rio'}`
                                                            ),
                                                            h('p', { style: { fontSize: '0.75rem', color: '#9ca3af' } }, 
                                                                `Criado: ${new Date(checklist.createdAt).toLocaleDateString('pt-BR')}`
                                                            )
                                                        ),
                                                        h('div', { style: { display: 'flex', gap: '0.5rem' } },
                                                            h('button', {
                                                                onClick: () => approveChecklist(checklist.id),
                                                                style: { 
                                                                    background: '#10b981', 
                                                                    color: 'white', 
                                                                    padding: '0.5rem 1rem', 
                                                                    border: 'none', 
                                                                    borderRadius: '0.25rem', 
                                                                    cursor: 'pointer',
                                                                    fontSize: '0.875rem'
                                                                }
                                                            }, 'Aprovar'),
                                                            h('button', {
                                                                style: { 
                                                                    background: '#3b82f6', 
                                                                    color: 'white', 
                                                                    padding: '0.5rem 1rem', 
                                                                    border: 'none', 
                                                                    borderRadius: '0.25rem', 
                                                                    cursor: 'pointer',
                                                                    fontSize: '0.875rem'
                                                                }
                                                            }, 'Ver Detalhes')
                                                        )
                                                    )
                                                )
                                            )
                                    ),

                                    // Auditorias para aprova√ß√£o
                                    h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                        h('h3', { style: { fontSize: '1.25rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem' } }, 
                                            'üîç Auditorias para Aprova√ß√£o'
                                        ),
                                        auditoriasPendentes.length === 0 ? 
                                            h('p', { style: { color: '#6b7280', textAlign: 'center', padding: '2rem' } }, 'Nenhuma auditoria pendente') :
                                            h('div', { style: { display: 'grid', gap: '1rem' } },
                                                auditoriasPendentes.map(auditoria => 
                                                    h('div', { 
                                                        key: auditoria.id,
                                                        style: { 
                                                            padding: '1rem', 
                                                            border: '1px solid #c4b5fd', 
                                                            borderRadius: '0.5rem',
                                                            background: '#f5f3ff'
                                                        }
                                                    },
                                                        h('div', { style: { marginBottom: '0.75rem' } },
                                                            h('p', { style: { fontWeight: 'bold', color: '#1f2937' } }, 
                                                                `${auditoria.tipo} - ${auditoria.setor}`
                                                            ),
                                                            h('p', { style: { fontSize: '0.875rem', color: '#6b7280' } }, 
                                                                `Por: ${users.find(u => u.id === auditoria.autorId)?.nome || 'Usu√°rio'}`
                                                            ),
                                                            h('p', { style: { fontSize: '0.75rem', color: '#9ca3af' } }, 
                                                                `Criado: ${new Date(auditoria.createdAt).toLocaleDateString('pt-BR')}`
                                                            )
                                                        ),
                                                        h('div', { style: { display: 'flex', gap: '0.5rem' } },
                                                            h('button', {
                                                                onClick: () => approveAuditoria(auditoria.id),
                                                                style: { 
                                                                    background: '#10b981', 
                                                                    color: 'white', 
                                                                    padding: '0.5rem 1rem', 
                                                                    border: 'none', 
                                                                    borderRadius: '0.25rem', 
                                                                    cursor: 'pointer',
                                                                    fontSize: '0.875rem'
                                                                }
                                                            }, 'Aprovar'),
                                                            h('button', {
                                                                style: { 
                                                                    background: '#7c3aed', 
                                                                    color: 'white', 
                                                                    padding: '0.5rem 1rem', 
                                                                    border: 'none', 
                                                                    borderRadius: '0.25rem', 
                                                                    cursor: 'pointer',
                                                                    fontSize: '0.875rem'
                                                                }
                                                            }, 'Ver Detalhes')
                                                        )
                                                    )
                                                )
                                            )
                                    )
                                )
                            )
                        )
                    );
                };

                // P√°gina do Painel da Cidade
                const PainelCidadePage = () => {
                    const [checklists] = useStoredState('checklists', []);
                    const [auditorias] = useStoredState('auditorias', []);

                    const checklistsAprovados = checklists.filter(c => c.status === 'aprovado');
                    const auditoriasAprovadas = auditorias.filter(a => a.status === 'aprovada');
                    
                    const pontuacaoChecklist = Math.min(checklistsAprovados.length * 10, 50);
                    const pontuacaoAuditoria = Math.min(auditoriasAprovadas.length * 25, 100);
                    const pontuacaoTotal = pontuacaoChecklist + pontuacaoAuditoria;
                    
                    const maxPontuacaoTotal = 150;
                    const porcentagemTotal = (pontuacaoTotal / maxPontuacaoTotal) * 100;

                    return h('div', { style: { minHeight: '100vh', background: '#f8fafc' } },
                        // Header
                        h('div', { style: { background: 'white', borderBottom: '4px solid #8b5cf6', padding: '1rem 0' } },
                            h('div', { style: { maxWidth: '1200px', margin: '0 auto', padding: '0 1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                h('h1', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', margin: 0 } }, 'MetaX - Painel da Cidade'),
                                h('button', {
                                    onClick: () => {
                                        setCurrentUser(null);
                                        setCurrentView('login');
                                    },
                                    style: { background: '#ef4444', color: 'white', padding: '0.5rem 1rem', border: 'none', borderRadius: '0.5rem', cursor: 'pointer' }
                                }, 'Sair')
                            )
                        ),
                        
                        h('div', { style: { display: 'flex' } },
                            // Sidebar
                            h('div', { style: { background: '#1f2937', color: 'white', width: '16rem', minHeight: 'calc(100vh - 80px)' } },
                                h('div', { style: { padding: '1rem' } },
                                    ['dashboard', 'checklist', 'auditoria', 'painel', 'admin'].map(view => 
                                        h('button', {
                                            key: view,
                                            onClick: () => setCurrentView(view),
                                            style: {
                                                width: '100%',
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: '0.75rem',
                                                padding: '0.75rem',
                                                background: currentView === view ? '#8b5cf6' : 'transparent',
                                                color: 'white',
                                                border: 'none',
                                                borderRadius: '0.5rem',
                                                cursor: 'pointer',
                                                marginBottom: '0.5rem'
                                            }
                                        }, 
                                        view === 'dashboard' ? 'üìä Dashboard' :
                                        view === 'checklist' ? '‚úÖ Checklist' :
                                        view === 'auditoria' ? 'üîç Auditoria' :
                                        view === 'painel' ? 'üèôÔ∏è Painel da Cidade' : '‚öôÔ∏è Administra√ß√£o'
                                        )
                                    )
                                )
                            ),
                            
                            // Conte√∫do principal
                            h('div', { style: { flex: 1, padding: '2rem' } },
                                h('h2', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '2rem' } }, 'Painel Geral da Cidade'),
                                
                                // Card principal da pontua√ß√£o
                                h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)', marginBottom: '2rem' } },
                                    h('div', { style: { textAlign: 'center', marginBottom: '2rem' } },
                                        h('h3', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '0.5rem' } }, 'üèôÔ∏è Ilusion RP'),
                                        h('p', { style: { color: '#6b7280', fontSize: '1.125rem' } }, 'Pontua√ß√£o Acumulada da Cidade')
                                    ),

                                    // Pontua√ß√£o total grande
                                    h('div', { style: { textAlign: 'center', marginBottom: '2rem' } },
                                        h('div', { style: { fontSize: '4rem', fontWeight: 'bold', color: '#8b5cf6', marginBottom: '0.5rem' } }, pontuacaoTotal),
                                        h('p', { style: { fontSize: '1.25rem', color: '#6b7280' } }, `de ${maxPontuacaoTotal} pontos poss√≠veis`),
                                        h('div', { style: { width: '100%', background: '#e5e7eb', borderRadius: '9999px', height: '1rem', marginTop: '1rem' } },
                                            h('div', { 
                                                style: { 
                                                    width: `${porcentagemTotal}%`, 
                                                    background: 'linear-gradient(90deg, #8b5cf6, #3b82f6)', 
                                                    height: '100%', 
                                                    borderRadius: '9999px',
                                                    transition: 'width 1s ease-in-out'
                                                }
                                            })
                                        ),
                                        h('p', { style: { fontSize: '1rem', color: '#8b5cf6', fontWeight: 'bold', marginTop: '0.5rem' } }, 
                                            `${porcentagemTotal.toFixed(1)}% conclu√≠do`
                                        )
                                    ),

                                    // Breakdown da pontua√ß√£o
                                    h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1.5rem' } },
                                        h('div', { style: { textAlign: 'center', padding: '1.5rem', background: '#dbeafe', borderRadius: '1rem' } },
                                            h('div', { style: { fontSize: '3rem', marginBottom: '1rem' } }, '‚úÖ'),
                                            h('h4', { style: { fontSize: '1.25rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '0.5rem' } }, 'Checklists'),
                                            h('div', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#3b82f6', marginBottom: '0.5rem' } }, `${pontuacaoChecklist}/50`),
                                            h('div', { style: { width: '100%', background: '#bfdbfe', borderRadius: '9999px', height: '0.5rem' } },
                                                h('div', { 
                                                    style: { 
                                                        width: `${(pontuacaoChecklist / 50) * 100}%`, 
                                                        background: '#3b82f6', 
                                                        height: '100%', 
                                                        borderRadius: '9999px'
                                                    }
                                                })
                                            ),
                                            h('p', { style: { fontSize: '0.875rem', color: '#1e40af', marginTop: '0.5rem' } }, 
                                                `${checklistsAprovados.length} aprovados`
                                            )
                                        ),
                                        h('div', { style: { textAlign: 'center', padding: '1.5rem', background: '#dcfce7', borderRadius: '1rem' } },
                                            h('div', { style: { fontSize: '3rem', marginBottom: '1rem' } }, 'üîç'),
                                            h('h4', { style: { fontSize: '1.25rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '0.5rem' } }, 'Auditorias'),
                                            h('div', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#10b981', marginBottom: '0.5rem' } }, `${pontuacaoAuditoria}/100`),
                                            h('div', { style: { width: '100%', background: '#bbf7d0', borderRadius: '9999px', height: '0.5rem' } },
                                                h('div', { 
                                                    style: { 
                                                        width: `${(pontuacaoAuditoria / 100) * 100}%`, 
                                                        background: '#10b981', 
                                                        height: '100%', 
                                                        borderRadius: '9999px'
                                                    }
                                                })
                                            ),
                                            h('p', { style: { fontSize: '0.875rem', color: '#065f46', marginTop: '0.5rem' } }, 
                                                `${auditoriasAprovadas.length} aprovadas`
                                            )
                                        ),
                                        h('div', { style: { textAlign: 'center', padding: '1.5rem', background: '#fef3c7', borderRadius: '1rem' } },
                                            h('div', { style: { fontSize: '3rem', marginBottom: '1rem' } }, 'üéØ'),
                                            h('h4', { style: { fontSize: '1.25rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '0.5rem' } }, 'Meta'),
                                            h('div', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#f59e0b', marginBottom: '0.5rem' } }, '150'),
                                            h('p', { style: { fontSize: '0.875rem', color: '#92400e' } }, 'Pontos para excel√™ncia'),
                                            h('p', { style: { fontSize: '0.75rem', color: '#78716c', marginTop: '0.5rem' } }, 
                                                `Faltam ${150 - pontuacaoTotal} pontos`
                                            )
                                        )
                                    )
                                ),

                                // Atividades recentes
                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: '1.5rem' } },
                                    // √öltimos checklists aprovados
                                    h('div', { style: { background: 'white', borderRadius: '1rem', padding: '1.5rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                        h('h3', { style: { fontSize: '1.25rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem' } }, 
                                            '‚úÖ √öltimos Checklists Aprovados'
                                        ),
                                        checklistsAprovados.length === 0 ? 
                                            h('p', { style: { color: '#6b7280', textAlign: 'center', padding: '2rem' } }, 'Nenhum checklist aprovado ainda') :
                                            h('div', { style: { display: 'grid', gap: '0.75rem' } },
                                                checklistsAprovados.slice(-5).reverse().map(checklist => 
                                                    h('div', { 
                                                        key: checklist.id,
                                                        style: { 
                                                            display: 'flex', 
                                                            justifyContent: 'space-between', 
                                                            alignItems: 'center', 
                                                            padding: '0.75rem', 
                                                            background: '#f0fdf4', 
                                                            borderRadius: '0.5rem',
                                                            border: '1px solid #bbf7d0'
                                                        }
                                                    },
                                                        h('div', null,
                                                            h('p', { style: { fontWeight: 'bold', color: '#166534' } }, 
                                                                `${checklist.tipo === 'staff' ? 'Staff' : 'RP'} - ${checklist.equipe || checklist.setor}`
                                                            ),
                                                            h('p', { style: { fontSize: '0.75rem', color: '#16a34a' } }, 
                                                                new Date(checklist.createdAt).toLocaleDateString('pt-BR')
                                                            )
                                                        ),
                                                        h('span', { 
                                                            style: { 
                                                                background: '#10b981', 
                                                                color: 'white', 
                                                                padding: '0.25rem 0.5rem', 
                                                                borderRadius: '0.25rem', 
                                                                fontSize: '0.75rem', 
                                                                fontWeight: 'bold'
                                                            }
                                                        }, '+10 pts')
                                                    )
                                                )
                                            )
                                    ),

                                    // √öltimas auditorias aprovadas
                                    h('div', { style: { background: 'white', borderRadius: '1rem', padding: '1.5rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                        h('h3', { style: { fontSize: '1.25rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem' } }, 
                                            'üîç √öltimas Auditorias Aprovadas'
                                        ),
                                        auditoriasAprovadas.length === 0 ? 
                                            h('p', { style: { color: '#6b7280', textAlign: 'center', padding: '2rem' } }, 'Nenhuma auditoria aprovada ainda') :
                                            h('div', { style: { display: 'grid', gap: '0.75rem' } },
                                                auditoriasAprovadas.slice(-5).reverse().map(auditoria => 
                                                    h('div', { 
                                                        key: auditoria.id,
                                                        style: { 
                                                            display: 'flex', 
                                                            justifyContent: 'space-between', 
                                                            alignItems: 'center', 
                                                            padding: '0.75rem', 
                                                            background: '#eff6ff', 
                                                            borderRadius: '0.5rem',
                                                            border: '1px solid #bfdbfe'
                                                        }
                                                    },
                                                        h('div', null,
                                                            h('p', { style: { fontWeight: 'bold', color: '#1e40af' } }, 
                                                                `${auditoria.tipo} - ${auditoria.setor}`
                                                            ),
                                                            h('p', { style: { fontSize: '0.75rem', color: '#3b82f6' } }, 
                                                                new Date(auditoria.createdAt).toLocaleDateString('pt-BR')
                                                            )
                                                        ),
                                                        h('span', { 
                                                            style: { 
                                                                background: '#3b82f6', 
                                                                color: 'white', 
                                                                padding: '0.25rem 0.5rem', 
                                                                borderRadius: '0.25rem', 
                                                                fontSize: '0.75rem', 
                                                                fontWeight: 'bold'
                                                            }
                                                        }, '+25 pts')
                                                    )
                                                )
                                            )
                                    )
                                ),

                                // Informa√ß√µes adicionais
                                h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)', marginTop: '2rem' } },
                                    h('h3', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1rem' } }, '‚ÑπÔ∏è Como funciona a pontua√ß√£o'),
                                    h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '1.5rem' } },
                                        h('div', { style: { padding: '1rem', background: '#f8fafc', borderRadius: '0.5rem', border: '1px solid #e2e8f0' } },
                                            h('h4', { style: { fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, '‚úÖ Checklists (10 pontos cada)'),
                                            h('ul', { style: { color: '#6b7280', lineHeight: '1.6', paddingLeft: '1rem' } },
                                                h('li', null, 'M√°ximo de 50 pontos (5 checklists)'),
                                                h('li', null, 'Staff e RP contam igualmente'),
                                                h('li', null, 'Apenas checklists aprovados pontuam')
                                            )
                                        ),
                                        h('div', { style: { padding: '1rem', background: '#f8fafc', borderRadius: '0.5rem', border: '1px solid #e2e8f0' } },
                                            h('h4', { style: { fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, 'üîç Auditorias (25 pontos cada)'),
                                            h('ul', { style: { color: '#6b7280', lineHeight: '1.6', paddingLeft: '1rem' } },
                                                h('li', null, 'M√°ximo de 100 pontos (4 auditorias)'),
                                                h('li', null, 'Relat√≥rios detalhados exigidos'),
                                                h('li', null, 'Apenas auditorias aprovadas pontuam')
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    );
                };

                // P√°gina de Auditoria
                const AuditoriaPage = () => {
                    const [auditorias, setAuditorias] = useStoredState('auditorias', []);
                    const [currentAuditoria, setCurrentAuditoria] = useStoredState('currentAuditoria', null);
                    const [formData, setFormData] = useStoredState('auditoriaFormData', {});

                    const startNewAuditoria = (tipo) => {
                        const newAuditoria = {
                            id: Date.now(),
                            tipo,
                            autorId: currentUser.id,
                            status: 'em_andamento',
                            createdAt: new Date().toISOString()
                        };
                        setCurrentAuditoria(newAuditoria);
                        setFormData({});
                    };

                    const saveAuditoria = () => {
                        if (!formData.setor || !formData.relatorio || formData.relatorio.length < 100) {
                            alert('‚ö†Ô∏è Preencha o setor e escreva um relat√≥rio com pelo menos 100 caracteres!');
                            return;
                        }

                        const updatedAuditoria = {
                            ...currentAuditoria,
                            ...formData,
                            updatedAt: new Date().toISOString(),
                            status: 'aguardando_aprovacao'
                        };

                        if (auditorias.find(a => a.id === currentAuditoria.id)) {
                            setAuditorias(auditorias.map(a => a.id === currentAuditoria.id ? updatedAuditoria : a));
                        } else {
                            setAuditorias([...auditorias, updatedAuditoria]);
                        }

                        setCurrentAuditoria(null);
                        setFormData({});
                        alert('‚úÖ Auditoria enviada para aprova√ß√£o!');
                    };

                    if (currentAuditoria) {
                        return h('div', { style: { minHeight: '100vh', background: '#f8fafc' } },
                            // Header
                            h('div', { style: { background: 'white', borderBottom: '4px solid #8b5cf6', padding: '1rem 0' } },
                                h('div', { style: { maxWidth: '1200px', margin: '0 auto', padding: '0 1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                    h('h1', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', margin: 0 } }, 'MetaX - Auditoria'),
                                    h('button', {
                                        onClick: () => setCurrentAuditoria(null),
                                        style: { background: '#6b7280', color: 'white', padding: '0.5rem 1rem', border: 'none', borderRadius: '0.5rem', cursor: 'pointer' }
                                    }, 'Voltar')
                                )
                            ),
                            
                            h('div', { style: { padding: '2rem' } },
                                h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                    h('h2', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1.5rem' } }, 
                                        `Auditoria ${currentAuditoria.tipo === 'staff' ? 'Staff' : 'Roleplay'}`
                                    ),
                                    
                                    // Dados b√°sicos
                                    h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem', marginBottom: '1.5rem' } },
                                        h('div', null,
                                            h('label', { style: { display: 'block', fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, 'Setor Auditado'),
                                            h('input', {
                                                type: 'text',
                                                value: formData.setor || '',
                                                onChange: (e) => setFormData({...formData, setor: e.target.value}),
                                                placeholder: 'Nome do setor',
                                                style: { width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.5rem' }
                                            })
                                        ),
                                        h('div', null,
                                            h('label', { style: { display: 'block', fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, 'Turno'),
                                            h('select', {
                                                value: formData.turno || '',
                                                onChange: (e) => setFormData({...formData, turno: e.target.value}),
                                                style: { width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.5rem' }
                                            },
                                                h('option', { value: '' }, 'Selecione...'),
                                                ['Manh√£', 'Tarde', 'Noite'].map(turno => h('option', { key: turno, value: turno }, turno))
                                            )
                                        )
                                    ),

                                    // Campos espec√≠ficos para Staff
                                    currentAuditoria.tipo === 'staff' && h('div', { style: { marginBottom: '1.5rem' } },
                                        h('h3', { style: { fontSize: '1.25rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1rem' } }, 'Dados da Equipe'),
                                        h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginBottom: '1rem' } },
                                            h('div', null,
                                                h('label', { style: { display: 'block', fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, 'Membros Contratados'),
                                                h('input', {
                                                    type: 'number',
                                                    value: formData.membrosContratados || '',
                                                    onChange: (e) => setFormData({...formData, membrosContratados: e.target.value}),
                                                    style: { width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.5rem' }
                                                })
                                            ),
                                            h('div', null,
                                                h('label', { style: { display: 'block', fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, 'Membros Online (48h)'),
                                                h('input', {
                                                    type: 'number',
                                                    value: formData.membrosOnline48h || '',
                                                    onChange: (e) => setFormData({...formData, membrosOnline48h: e.target.value}),
                                                    style: { width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.5rem' }
                                                })
                                            )
                                        ),
                                        h('div', { style: { marginBottom: '1rem' } },
                                            h('label', { style: { display: 'block', fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, 'Lista de Membros e IDs'),
                                            h('textarea', {
                                                value: formData.listaMembros || '',
                                                onChange: (e) => setFormData({...formData, listaMembros: e.target.value}),
                                                placeholder: 'Liste os membros e seus IDs...',
                                                rows: 4,
                                                style: { width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.5rem', resize: 'vertical' }
                                            })
                                        ),
                                        
                                        // Perguntas de avalia√ß√£o
                                        h('div', { style: { display: 'grid', gap: '1rem' } },
                                            [
                                                { key: 'estruturaFuncional', label: 'Estrutura funcional?' },
                                                { key: 'cumprimentoConduta', label: 'Cumprimento de conduta e √©tica?' },
                                                { key: 'conflitosInternos', label: 'Conflitos internos?' },
                                                { key: 'necessidadeReforco', label: 'Necessidade de refor√ßo/contrata√ß√£o?' }
                                            ].map(item => 
                                                h('div', { key: item.key, style: { padding: '1rem', background: '#f9fafb', borderRadius: '0.5rem' } },
                                                    h('label', { style: { display: 'block', fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, item.label),
                                                    h('div', { style: { display: 'flex', gap: '1rem' } },
                                                        ['Sim', 'N√£o'].map(opcao => 
                                                            h('label', { key: opcao, style: { display: 'flex', alignItems: 'center', gap: '0.5rem' } },
                                                                h('input', {
                                                                    type: 'radio',
                                                                    name: item.key,
                                                                    value: opcao.toLowerCase(),
                                                                    checked: formData[item.key] === opcao.toLowerCase(),
                                                                    onChange: (e) => setFormData({...formData, [item.key]: e.target.value})
                                                                }),
                                                                opcao
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    ),

                                    // Relat√≥rio do auditor
                                    h('div', { style: { marginBottom: '1.5rem' } },
                                        h('label', { style: { display: 'block', fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, 
                                            'Relat√≥rio do Auditor (m√≠nimo 100 caracteres)'
                                        ),
                                        h('textarea', {
                                            value: formData.relatorio || '',
                                            onChange: (e) => setFormData({...formData, relatorio: e.target.value}),
                                            placeholder: 'Descreva detalhadamente os achados da auditoria...',
                                            rows: 6,
                                            style: { width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.5rem', resize: 'vertical' }
                                        }),
                                        h('p', { style: { fontSize: '0.875rem', color: '#6b7280', marginTop: '0.5rem' } }, 
                                            `${formData.relatorio?.length || 0} caracteres`
                                        )
                                    ),

                                    h('div', { style: { textAlign: 'right' } },
                                        h('button', {
                                            onClick: saveAuditoria,
                                            style: {
                                                background: '#7c3aed',
                                                color: 'white',
                                                padding: '0.75rem 1.5rem',
                                                border: 'none',
                                                borderRadius: '0.5rem',
                                                cursor: 'pointer',
                                                fontSize: '1rem',
                                                fontWeight: 'bold'
                                            }
                                        }, 'Salvar Auditoria')
                                    )
                                )
                            )
                        );
                    }

                    return h('div', { style: { minHeight: '100vh', background: '#f8fafc' } },
                        // Header
                        h('div', { style: { background: 'white', borderBottom: '4px solid #8b5cf6', padding: '1rem 0' } },
                            h('div', { style: { maxWidth: '1200px', margin: '0 auto', padding: '0 1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                h('h1', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', margin: 0 } }, 'MetaX - Auditoria'),
                                h('button', {
                                    onClick: () => {
                                        setCurrentUser(null);
                                        setCurrentView('login');
                                    },
                                    style: { background: '#ef4444', color: 'white', padding: '0.5rem 1rem', border: 'none', borderRadius: '0.5rem', cursor: 'pointer' }
                                }, 'Sair')
                            )
                        ),
                        
                        h('div', { style: { display: 'flex' } },
                            // Sidebar
                            h('div', { style: { background: '#1f2937', color: 'white', width: '16rem', minHeight: 'calc(100vh - 80px)' } },
                                h('div', { style: { padding: '1rem' } },
                                    ['dashboard', 'checklist', 'auditoria', 'painel', 'admin'].map(view => 
                                        h('button', {
                                            key: view,
                                            onClick: () => setCurrentView(view),
                                            style: {
                                                width: '100%',
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: '0.75rem',
                                                padding: '0.75rem',
                                                background: currentView === view ? '#8b5cf6' : 'transparent',
                                                color: 'white',
                                                border: 'none',
                                                borderRadius: '0.5rem',
                                                cursor: 'pointer',
                                                marginBottom: '0.5rem'
                                            }
                                        }, 
                                        view === 'dashboard' ? 'üìä Dashboard' :
                                        view === 'checklist' ? '‚úÖ Checklist' :
                                        view === 'auditoria' ? 'üîç Auditoria' :
                                        view === 'painel' ? 'üèôÔ∏è Painel da Cidade' : '‚öôÔ∏è Administra√ß√£o'
                                        )
                                    )
                                )
                            ),
                            
                            // Conte√∫do principal
                            h('div', { style: { flex: 1, padding: '2rem' } },
                                h('h2', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '2rem' } }, 'Sistema de Auditoria'),
                                
                                // Cards para criar auditoria
                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '1.5rem', marginBottom: '2rem' } },
                                    h('div', { 
                                        style: { 
                                            background: 'linear-gradient(135deg, #7c3aed, #5b21b6)', 
                                            color: 'white', 
                                            padding: '2rem', 
                                            borderRadius: '1rem', 
                                            cursor: 'pointer'
                                        },
                                        onClick: () => startNewAuditoria('staff')
                                    },
                                        h('h3', { style: { fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' } }, 'üë• Auditoria Staff'),
                                        h('p', { style: { opacity: 0.9 } }, 'Auditoria detalhada das equipes')
                                    ),
                                    h('div', { 
                                        style: { 
                                            background: 'linear-gradient(135deg, #4338ca, #3730a3)', 
                                            color: 'white', 
                                            padding: '2rem', 
                                            borderRadius: '1rem', 
                                            cursor: 'pointer'
                                        },
                                        onClick: () => startNewAuditoria('roleplay')
                                    },
                                        h('h3', { style: { fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' } }, 'üé≠ Auditoria RP'),
                                        h('p', { style: { opacity: 0.9 } }, 'Auditoria dos setores Roleplay')
                                    )
                                ),

                                // Lista de auditorias
                                h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                    h('h3', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1.5rem' } }, 'Minhas Auditorias'),
                                    auditorias.filter(a => a.autorId === currentUser.id).length === 0 ? 
                                        h('p', { style: { color: '#6b7280', textAlign: 'center', padding: '2rem' } }, 'Nenhuma auditoria criada ainda. Clique nos cards acima para come√ßar!') :
                                        h('div', { style: { display: 'grid', gap: '1rem' } },
                                            auditorias.filter(a => a.autorId === currentUser.id).map(auditoria => 
                                                h('div', { 
                                                    key: auditoria.id,
                                                    style: { 
                                                        display: 'flex', 
                                                        justifyContent: 'space-between', 
                                                        alignItems: 'center', 
                                                        padding: '1rem', 
                                                        border: '1px solid #e5e7eb', 
                                                        borderRadius: '0.5rem',
                                                        background: '#f9fafb'
                                                    }
                                                },
                                                    h('div', null,
                                                        h('p', { style: { fontWeight: 'bold', color: '#1f2937' } }, 
                                                            `Auditoria ${auditoria.tipo} - ${auditoria.setor}`
                                                        ),
                                                        h('p', { style: { fontSize: '0.875rem', color: '#6b7280' } }, 
                                                            `Criado em: ${new Date(auditoria.createdAt).toLocaleDateString('pt-BR')}`
                                                        )
                                                    ),
                                                    h('div', { style: { display: 'flex', alignItems: 'center', gap: '1rem' } },
                                                        h('span', { 
                                                            style: { 
                                                                padding: '0.25rem 0.75rem', 
                                                                borderRadius: '9999px', 
                                                                fontSize: '0.75rem', 
                                                                fontWeight: 'bold',
                                                                background: auditoria.status === 'aprovada' ? '#dcfce7' : 
                                                                           auditoria.status === 'aguardando_aprovacao' ? '#fef3c7' : '#dbeafe',
                                                                color: auditoria.status === 'aprovada' ? '#166534' : 
                                                                       auditoria.status === 'aguardando_aprovacao' ? '#92400e' : '#1e40af'
                                                            }
                                                        }, auditoria.status.toUpperCase().replace('_', ' ')),
                                                        auditoria.status === 'em_andamento' && h('button', {
                                                            onClick: () => {
                                                                setCurrentAuditoria(auditoria);
                                                                setFormData(auditoria);
                                                            },
                                                            style: { 
                                                                background: '#7c3aed', 
                                                                color: 'white', 
                                                                padding: '0.5rem 1rem', 
                                                                border: 'none', 
                                                                borderRadius: '0.25rem', 
                                                                cursor: 'pointer',
                                                                fontSize: '0.875rem'
                                                            }
                                                        }, 'Continuar')
                                                    )
                                                )
                                            )
                                        )
                                )
                            )
                        )
                    );
                };

                    return h('div', { 
                        style: { 
                            minHeight: '100vh', 
                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', 
                            display: 'flex', 
                            alignItems: 'center', 
                            justifyContent: 'center',
                            padding: '1rem'
                        }
                    },
                        h('div', { 
                            style: { 
                                background: 'rgba(255,255,255,0.1)', 
                                backdropFilter: 'blur(10px)', 
                                borderRadius: '1rem', 
                                padding: '2rem', 
                                width: '100%', 
                                maxWidth: '400px',
                                border: '1px solid rgba(255,255,255,0.2)'
                            }
                        },
                            h('div', { style: { textAlign: 'center', marginBottom: '2rem' } },
                                h('h1', { style: { color: 'white', fontSize: '2rem', marginBottom: '0.5rem' } }, 'MetaX'),
                                h('p', { style: { color: '#e0e7ff', opacity: 0.8 } }, 'Sistema de Auditoria - Ilusion RP')
                            ),

                            !isRegister ? 
                                // Formul√°rio de Login
                                h('div', { style: { display: 'flex', flexDirection: 'column', gap: '1rem' } },
                                    h('div', null,
                                        h('label', { style: { display: 'block', color: 'rgba(255,255,255,0.8)', marginBottom: '0.5rem' } }, 'ID do Usu√°rio'),
                                        h('input', {
                                            type: 'text',
                                            value: loginData.id,
                                            onChange: (e) => setLoginData({...loginData, id: e.target.value}),
                                            placeholder: 'Digite seu ID',
                                            style: {
                                                width: '100%',
                                                padding: '0.75rem',
                                                border: '1px solid rgba(255,255,255,0.2)',
                                                borderRadius: '0.5rem',
                                                background: 'rgba(255,255,255,0.1)',
                                                color: 'white'
                                            }
                                        })
                                    ),
                                    h('div', null,
                                        h('label', { style: { display: 'block', color: 'rgba(255,255,255,0.8)', marginBottom: '0.5rem' } }, 'Senha'),
                                        h('input', {
                                            type: 'password',
                                            value: loginData.senha,
                                            onChange: (e) => setLoginData({...loginData, senha: e.target.value}),
                                            placeholder: 'Digite sua senha',
                                            style: {
                                                width: '100%',
                                                padding: '0.75rem',
                                                border: '1px solid rgba(255,255,255,0.2)',
                                                borderRadius: '0.5rem',
                                                background: 'rgba(255,255,255,0.1)',
                                                color: 'white'
                                            }
                                        })
                                    ),
                                    h('button', {
                                        onClick: handleLogin,
                                        style: {
                                            width: '100%',
                                            padding: '0.75rem',
                                            background: '#8b5cf6',
                                            color: 'white',
                                            border: 'none',
                                            borderRadius: '0.5rem',
                                            cursor: 'pointer',
                                            fontSize: '1rem',
                                            fontWeight: '600'
                                        }
                                    }, 'Entrar'),
                                    h('button', {
                                        onClick: () => setIsRegister(true),
                                        style: {
                                            width: '100%',
                                            padding: '0.75rem',
                                            background: 'transparent',
                                            color: 'white',
                                            border: '1px solid rgba(255,255,255,0.3)',
                                            borderRadius: '0.5rem',
                                            cursor: 'pointer',
                                            fontSize: '1rem',
                                            fontWeight: '600'
                                        }
                                    }, 'Criar Conta')
                                ) :
                                // Formul√°rio de Cadastro
                                h('div', { style: { display: 'flex', flexDirection: 'column', gap: '1rem' } },
                                    h('div', null,
                                        h('label', { style: { display: 'block', color: 'rgba(255,255,255,0.8)', marginBottom: '0.5rem' } }, 'Nome Completo'),
                                        h('input', {
                                            type: 'text',
                                            value: registerData.nome,
                                            onChange: (e) => setRegisterData({...registerData, nome: e.target.value}),
                                            placeholder: 'Seu nome completo',
                                            style: {
                                                width: '100%',
                                                padding: '0.75rem',
                                                border: '1px solid rgba(255,255,255,0.2)',
                                                borderRadius: '0.5rem',
                                                background: 'rgba(255,255,255,0.1)',
                                                color: 'white'
                                            }
                                        })
                                    ),
                                    h('div', null,
                                        h('label', { style: { display: 'block', color: 'rgba(255,255,255,0.8)', marginBottom: '0.5rem' } }, 'ID'),
                                        h('input', {
                                            type: 'text',
                                            value: registerData.id,
                                            onChange: (e) => setRegisterData({...registerData, id: e.target.value}),
                                            placeholder: 'Escolha um ID √∫nico',
                                            style: {
                                                width: '100%',
                                                padding: '0.75rem',
                                                border: '1px solid rgba(255,255,255,0.2)',
                                                borderRadius: '0.5rem',
                                                background: 'rgba(255,255,255,0.1)',
                                                color: 'white'
                                            }
                                        })
                                    ),
                                    h('div', null,
                                        h('label', { style: { display: 'block', color: 'rgba(255,255,255,0.8)', marginBottom: '0.5rem' } }, 'Senha'),
                                        h('input', {
                                            type: 'password',
                                            value: registerData.senha,
                                            onChange: (e) => setRegisterData({...registerData, senha: e.target.value}),
                                            placeholder: 'Crie uma senha',
                                            style: {
                                                width: '100%',
                                                padding: '0.75rem',
                                                border: '1px solid rgba(255,255,255,0.2)',
                                                borderRadius: '0.5rem',
                                                background: 'rgba(255,255,255,0.1)',
                                                color: 'white'
                                            }
                                        })
                                    ),
                                    h('div', null,
                                        h('label', { style: { display: 'block', color: 'rgba(255,255,255,0.8)', marginBottom: '0.5rem' } }, 'Cargo'),
                                        h('select', {
                                            value: registerData.cargo,
                                            onChange: (e) => setRegisterData({...registerData, cargo: e.target.value}),
                                            style: {
                                                width: '100%',
                                                padding: '0.75rem',
                                                border: '1px solid rgba(255,255,255,0.2)',
                                                borderRadius: '0.5rem',
                                                background: 'rgba(255,255,255,0.1)',
                                                color: 'white'
                                            }
                                        },
                                            ['CEO', 'Diretor', 'Alta C√∫pula', 'ADM Staff', 'RESP Comunidade', 'Mentoria', 'Staff Geral'].map(cargo => 
                                                h('option', { key: cargo, value: cargo, style: { color: 'black' } }, cargo)
                                            )
                                        )
                                    ),
                                    h('button', {
                                        onClick: handleRegister,
                                        style: {
                                            width: '100%',
                                            padding: '0.75rem',
                                            background: '#10b981',
                                            color: 'white',
                                            border: 'none',
                                            borderRadius: '0.5rem',
                                            cursor: 'pointer',
                                            fontSize: '1rem',
                                            fontWeight: '600'
                                        }
                                    }, 'Cadastrar'),
                                    h('button', {
                                        onClick: () => setIsRegister(false),
                                        style: {
                                            width: '100%',
                                            padding: '0.75rem',
                                            background: 'transparent',
                                            color: 'white',
                                            border: '1px solid rgba(255,255,255,0.3)',
                                            borderRadius: '0.5rem',
                                            cursor: 'pointer',
                                            fontSize: '1rem',
                                            fontWeight: '600'
                                        }
                                    }, 'Voltar ao Login')
                                )
                        )
                    );
                };

                // Dashboard Principal
                const Dashboard = () => {
                    return h('div', { style: { minHeight: '100vh', background: '#f8fafc' } },
                        // Header
                        h('div', { style: { background: 'white', borderBottom: '4px solid #8b5cf6', padding: '1rem 0' } },
                            h('div', { style: { maxWidth: '1200px', margin: '0 auto', padding: '0 1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                h('div', { style: { display: 'flex', alignItems: 'center', gap: '1rem' } },
                                    h('div', { style: { background: 'linear-gradient(135deg, #8b5cf6, #3b82f6)', padding: '0.5rem', borderRadius: '0.5rem' } },
                                        h('div', { style: { width: '2rem', height: '2rem', background: 'white', borderRadius: '0.25rem' } })
                                    ),
                                    h('div', null,
                                        h('h1', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', margin: 0 } }, 'MetaX - Ilusion RP'),
                                        h('p', { style: { color: '#6b7280', margin: 0 } }, 'Sistema de Auditoria')
                                    )
                                ),
                                h('div', { style: { display: 'flex', alignItems: 'center', gap: '1rem' } },
                                    h('div', { style: { textAlign: 'right' } },
                                        h('p', { style: { fontWeight: '600', color: '#1f2937', margin: 0 } }, currentUser?.nome),
                                        h('p', { style: { fontSize: '0.875rem', color: '#6b7280', margin: 0 } }, currentUser?.cargo)
                                    ),
                                    h('button', {
                                        onClick: () => {
                                            setCurrentUser(null);
                                            setCurrentView('login');
                                        },
                                        style: {
                                            background: '#ef4444',
                                            color: 'white',
                                            padding: '0.5rem 1rem',
                                            border: 'none',
                                            borderRadius: '0.5rem',
                                            cursor: 'pointer'
                                        }
                                    }, 'Sair')
                                )
                            )
                        ),
                        
                        // Conte√∫do Principal
                        h('div', { style: { display: 'flex' } },
                            // Sidebar
                            h('div', { style: { background: '#1f2937', color: 'white', width: '16rem', minHeight: 'calc(100vh - 80px)' } },
                                h('div', { style: { padding: '1rem' } },
                                    h('button', {
                                        onClick: () => setCurrentView('dashboard'),
                                        style: {
                                            width: '100%',
                                            display: 'flex',
                                            alignItems: 'center',
                                            gap: '0.75rem',
                                            padding: '0.75rem',
                                            background: currentView === 'dashboard' ? '#8b5cf6' : 'transparent',
                                            color: 'white',
                                            border: 'none',
                                            borderRadius: '0.5rem',
                                            cursor: 'pointer',
                                            marginBottom: '0.5rem'
                                        }
                                    }, 'üìä Dashboard'),
                                    h('button', {
                                        onClick: () => setCurrentView('checklist'),
                                        style: {
                                            width: '100%',
                                            display: 'flex',
                                            alignItems: 'center',
                                            gap: '0.75rem',
                                            padding: '0.75rem',
                                            background: currentView === 'checklist' ? '#8b5cf6' : 'transparent',
                                            color: 'white',
                                            border: 'none',
                                            borderRadius: '0.5rem',
                                            cursor: 'pointer',
                                            marginBottom: '0.5rem'
                                        }
                                    }, '‚úÖ Checklist'),
                                    h('button', {
                                        onClick: () => setCurrentView('auditoria'),
                                        style: {
                                            width: '100%',
                                            display: 'flex',
                                            alignItems: 'center',
                                            gap: '0.75rem',
                                            padding: '0.75rem',
                                            background: currentView === 'auditoria' ? '#8b5cf6' : 'transparent',
                                            color: 'white',
                                            border: 'none',
                                            borderRadius: '0.5rem',
                                            cursor: 'pointer',
                                            marginBottom: '0.5rem'
                                        }
                                    }, 'üîç Auditoria'),
                                    h('button', {
                                        onClick: () => setCurrentView('painel'),
                                        style: {
                                            width: '100%',
                                            display: 'flex',
                                            alignItems: 'center',
                                            gap: '0.75rem',
                                            padding: '0.75rem',
                                            background: currentView === 'painel' ? '#8b5cf6' : 'transparent',
                                            color: 'white',
                                            border: 'none',
                                            borderRadius: '0.5rem',
                                            cursor: 'pointer',
                                            marginBottom: '0.5rem'
                                        }
                                    }, 'üèôÔ∏è Painel da Cidade'),
                                    h('button', {
                                        onClick: () => setCurrentView('admin'),
                                        style: {
                                            width: '100%',
                                            display: 'flex',
                                            alignItems: 'center',
                                            gap: '0.75rem',
                                            padding: '0.75rem',
                                            background: currentView === 'admin' ? '#8b5cf6' : 'transparent',
                                            color: 'white',
                                            border: 'none',
                                            borderRadius: '0.5rem',
                                            cursor: 'pointer'
                                        }
                                    }, '‚öôÔ∏è Administra√ß√£o')
                                )
                            ),
                            
                            // √Årea de Conte√∫do
                            h('div', { style: { flex: 1, padding: '2rem' } },
                                h('h2', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '2rem' } }, 'Dashboard'),
                                
                                // Cards de estat√≠sticas
                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1.5rem', marginBottom: '2rem' } },
                                    h('div', { style: { background: '#3b82f6', color: 'white', padding: '1.5rem', borderRadius: '1rem' } },
                                        h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                            h('div', null,
                                                h('p', { style: { opacity: 0.8, margin: '0 0 0.5rem 0' } }, 'Meus Checklists'),
                                                h('p', { style: { fontSize: '2rem', fontWeight: 'bold', margin: 0 } }, '0')
                                            ),
                                            h('div', { style: { fontSize: '3rem' } }, '‚úÖ')
                                        )
                                    ),
                                    h('div', { style: { background: '#10b981', color: 'white', padding: '1.5rem', borderRadius: '1rem' } },
                                        h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                            h('div', null,
                                                h('p', { style: { opacity: 0.8, margin: '0 0 0.5rem 0' } }, 'Minhas Auditorias'),
                                                h('p', { style: { fontSize: '2rem', fontWeight: 'bold', margin: 0 } }, '0')
                                            ),
                                            h('div', { style: { fontSize: '3rem' } }, 'üîç')
                                        )
                                    ),
                                    h('div', { style: { background: '#f59e0b', color: 'white', padding: '1.5rem', borderRadius: '1rem' } },
                                        h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                            h('div', null,
                                                h('p', { style: { opacity: 0.8, margin: '0 0 0.5rem 0' } }, 'Pendente Aprova√ß√£o'),
                                                h('p', { style: { fontSize: '2rem', fontWeight: 'bold', margin: 0 } }, '0')
                                            ),
                                            h('div', { style: { fontSize: '3rem' } }, '‚è≥')
                                        )
                                    )
                                ),
                                
                                // Card de sucesso
                                h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                    h('h3', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1rem', textAlign: 'center' } }, 'üéâ Sistema MetaX Funcionando!'),
                                    h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '2rem' } },
                                        h('div', null,
                                            h('h4', { style: { fontWeight: 'bold', color: '#374151', marginBottom: '1rem' } }, '‚úÖ Funcionalidades Ativas:'),
                                            h('ul', { style: { color: '#6b7280', lineHeight: '1.6' } },
                                                h('li', null, 'üîê Sistema de Login/Registro'),
                                                h('li', null, 'üìã Checklist Staff e RP'),
                                                h('li', null, 'üîç Auditorias Completas'),
                                                h('li', null, 'üìä Painel da Cidade'),
                                                h('li', null, 'üë• Gest√£o de Usu√°rios'),
                                                h('li', null, '‚úÖ Sistema de Aprova√ß√µes'),
                                                h('li', null, 'üíæ Dados Persistentes')
                                            )
                                        ),
                                        h('div', null,
                                            h('h4', { style: { fontWeight: 'bold', color: '#374151', marginBottom: '1rem' } }, 'üöÄ Como Usar:'),
                                            h('ul', { style: { color: '#6b7280', lineHeight: '1.6' } },
                                                h('li', null, '1. Use o menu lateral para navegar'),
                                                h('li', null, '2. Crie checklists e auditorias'),
                                                h('li', null, '3. Aprove documentos (se for admin)'),
                                                h('li', null, '4. Monitore pontua√ß√£o da cidade'),
                                                h('li', null, '5. Gerencie usu√°rios do sistema'),
                                                h('li', null, '6. Todos os dados salvos automaticamente')
                                            )
                                        )
                                    ),
                                    h('div', { 
                                        style: { 
                                            textAlign: 'center', 
                                            marginTop: '1.5rem', 
                                            padding: '1rem', 
                                            background: '#f0fdf4', 
                                            borderRadius: '0.5rem', 
                                            border: '1px solid #bbf7d0' 
                                        }
                                    },
                                        h('p', { style: { color: '#166534', fontWeight: 'bold', fontSize: '1.125rem', margin: 0 } }, 'üéØ Sistema 100% Funcional!'),
                                        h('p', { style: { color: '#16a34a', marginTop: '0.5rem', margin: 0 } }, 'Navegue pelo menu lateral para explorar todas as funcionalidades')
                                    )
                                )
                            )
                        )
                    );
                };

                // P√°gina de Checklist
                const ChecklistPage = () => {
                    const [checklists, setChecklists] = useStoredState('checklists', []);
                    const [currentChecklist, setCurrentChecklist] = useStoredState('currentChecklist', null);
                    const [formData, setFormData] = useStoredState('checklistFormData', {});

                    const startNewChecklist = (tipo) => {
                        const newChecklist = {
                            id: Date.now(),
                            tipo,
                            autorId: currentUser.id,
                            status: 'em_andamento',
                            createdAt: new Date().toISOString(),
                            confirmacoesPainel: { manha: '', tarde: '', noite: '' }
                        };
                        setCurrentChecklist(newChecklist);
                        setFormData({});
                    };

                    const saveChecklist = () => {
                        const updatedChecklist = {
                            ...currentChecklist,
                            ...formData,
                            updatedAt: new Date().toISOString()
                        };

                        const confirmacoesCompletas = Object.values(updatedChecklist.confirmacoesPainel).every(val => val !== '');
                        
                        if (confirmacoesCompletas && updatedChecklist.status === 'em_andamento') {
                            updatedChecklist.status = 'aguardando_aprovacao';
                            alert('‚úÖ Checklist enviado para aprova√ß√£o!');
                        } else {
                            alert('üíæ Checklist salvo como rascunho!');
                        }

                        if (checklists.find(c => c.id === currentChecklist.id)) {
                            setChecklists(checklists.map(c => c.id === currentChecklist.id ? updatedChecklist : c));
                        } else {
                            setChecklists([...checklists, updatedChecklist]);
                        }

                        setCurrentChecklist(null);
                        setFormData({});
                    };

                    if (currentChecklist) {
                        return h('div', { style: { minHeight: '100vh', background: '#f8fafc' } },
                            // Header
                            h('div', { style: { background: 'white', borderBottom: '4px solid #8b5cf6', padding: '1rem 0' } },
                                h('div', { style: { maxWidth: '1200px', margin: '0 auto', padding: '0 1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                    h('h1', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', margin: 0 } }, 'MetaX - Checklist'),
                                    h('button', {
                                        onClick: () => setCurrentChecklist(null),
                                        style: { background: '#6b7280', color: 'white', padding: '0.5rem 1rem', border: 'none', borderRadius: '0.5rem', cursor: 'pointer' }
                                    }, 'Voltar')
                                )
                            ),
                            
                            h('div', { style: { padding: '2rem' } },
                                h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                    h('h2', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1.5rem' } }, 
                                        currentChecklist.tipo === 'staff' ? 'Checklist Staff (Discord)' : 'Checklist Roleplay (RP)'
                                    ),
                                    
                                    h('div', { style: { marginBottom: '1.5rem' } },
                                        h('label', { style: { display: 'block', fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, 
                                            currentChecklist.tipo === 'staff' ? 'Equipe' : 'Setor'
                                        ),
                                        h('select', {
                                            value: formData.equipe || formData.setor || '',
                                            onChange: (e) => setFormData({
                                                ...formData, 
                                                [currentChecklist.tipo === 'staff' ? 'equipe' : 'setor']: e.target.value
                                            }),
                                            style: { width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.5rem' }
                                        },
                                            h('option', { value: '' }, 'Selecione...'),
                                            (currentChecklist.tipo === 'staff' ? 
                                                ['Alta C√∫pula', 'ADM Staff', 'RESP Comunidade', 'Mentoria', 'Equipe Legal', 'Equipe Org', 'Social Media (SM)', 'Toler√¢ncia Zero'] :
                                                ['Jur√≠dico / Prefeitura', 'Igreja', 'Jornal', 'Hospital', 'Bombeiros', 'Mec√¢nica', 'Empres√°rios', 'Pol√≠cia']
                                            ).map(item => h('option', { key: item, value: item }, item))
                                        )
                                    ),

                                    // Campos espec√≠ficos para Staff
                                    currentChecklist.tipo === 'staff' && h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem', marginBottom: '1.5rem' } },
                                        ['totalPessoas', 'pessoasAtivas', 'pessoasDiscord', 'pessoasJogo', 'metasBatidas'].map(field => 
                                            h('div', { key: field },
                                                h('label', { style: { display: 'block', fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, 
                                                    field === 'totalPessoas' ? 'Total de pessoas na equipe' :
                                                    field === 'pessoasAtivas' ? 'Pessoas ativas' :
                                                    field === 'pessoasDiscord' ? 'Pessoas no Discord' :
                                                    field === 'pessoasJogo' ? 'Pessoas no jogo atendendo' : 'Metas batidas at√© hoje'
                                                ),
                                                h('input', {
                                                    type: 'number',
                                                    value: formData[field] || '',
                                                    onChange: (e) => setFormData({...formData, [field]: e.target.value}),
                                                    style: { width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.5rem' }
                                                })
                                            )
                                        ),
                                        h('div', null,
                                            h('label', { style: { display: 'block', fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, 'Desempenho geral'),
                                            h('select', {
                                                value: formData.desempenho || '',
                                                onChange: (e) => setFormData({...formData, desempenho: e.target.value}),
                                                style: { width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.5rem' }
                                            },
                                                h('option', { value: '' }, 'Selecione...'),
                                                ['Ruim', 'Regular', 'Bom', 'Excelente'].map(opt => h('option', { key: opt, value: opt.toLowerCase() }, opt))
                                            )
                                        )
                                    ),

                                    // Confirma√ß√µes de painel (obrigat√≥rio)
                                    h('div', { style: { background: '#dbeafe', border: '2px solid #3b82f6', borderRadius: '0.5rem', padding: '1.5rem', marginBottom: '1.5rem' } },
                                        h('h3', { style: { fontSize: '1.125rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1rem' } }, 'Confirma√ß√µes do Painel Online'),
                                        h('p', { style: { color: '#1e40af', marginBottom: '1rem' } }, '‚ö†Ô∏è Obrigat√≥rio: Preencha os 3 turnos para enviar para aprova√ß√£o'),
                                        h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' } },
                                            ['manha', 'tarde', 'noite'].map(turno => 
                                                h('div', { key: turno },
                                                    h('label', { style: { display: 'block', fontWeight: 'bold', color: '#374151', marginBottom: '0.5rem' } }, 
                                                        `${turno.charAt(0).toUpperCase() + turno.slice(1)} - Pessoas Online`
                                                    ),
                                                    h('input', {
                                                        type: 'number',
                                                        min: '0',
                                                        value: currentChecklist.confirmacoesPainel[turno] || '',
                                                        onChange: (e) => {
                                                            const updatedConfirmacoes = {
                                                                ...currentChecklist.confirmacoesPainel,
                                                                [turno]: e.target.value
                                                            };
                                                            setCurrentChecklist({
                                                                ...currentChecklist,
                                                                confirmacoesPainel: updatedConfirmacoes
                                                            });
                                                        },
                                                        style: { 
                                                            width: '100%', 
                                                            padding: '0.75rem', 
                                                            border: currentChecklist.confirmacoesPainel[turno] ? '1px solid #10b981' : '1px solid #d1d5db', 
                                                            borderRadius: '0.5rem',
                                                            background: currentChecklist.confirmacoesPainel[turno] ? '#f0fdf4' : 'white'
                                                        }
                                                    })
                                                )
                                            )
                                        )
                                    ),

                                    h('div', { style: { textAlign: 'right' } },
                                        h('button', {
                                            onClick: saveChecklist,
                                            style: {
                                                background: '#10b981',
                                                color: 'white',
                                                padding: '0.75rem 1.5rem',
                                                border: 'none',
                                                borderRadius: '0.5rem',
                                                cursor: 'pointer',
                                                fontSize: '1rem',
                                                fontWeight: 'bold'
                                            }
                                        }, 
                                        Object.values(currentChecklist.confirmacoesPainel).every(val => val !== '') ? 
                                            'Enviar para Aprova√ß√£o' : 'Salvar Rascunho'
                                        )
                                    )
                                )
                            )
                        );
                    }

                    return h('div', { style: { minHeight: '100vh', background: '#f8fafc' } },
                        // Header
                        h('div', { style: { background: 'white', borderBottom: '4px solid #8b5cf6', padding: '1rem 0' } },
                            h('div', { style: { maxWidth: '1200px', margin: '0 auto', padding: '0 1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                h('h1', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', margin: 0 } }, 'MetaX - Checklist'),
                                h('button', {
                                    onClick: () => {
                                        setCurrentUser(null);
                                        setCurrentView('login');
                                    },
                                    style: { background: '#ef4444', color: 'white', padding: '0.5rem 1rem', border: 'none', borderRadius: '0.5rem', cursor: 'pointer' }
                                }, 'Sair')
                            )
                        ),
                        
                        h('div', { style: { display: 'flex' } },
                            // Sidebar
                            h('div', { style: { background: '#1f2937', color: 'white', width: '16rem', minHeight: 'calc(100vh - 80px)' } },
                                h('div', { style: { padding: '1rem' } },
                                    ['dashboard', 'checklist', 'auditoria', 'painel', 'admin'].map(view => 
                                        h('button', {
                                            key: view,
                                            onClick: () => setCurrentView(view),
                                            style: {
                                                width: '100%',
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: '0.75rem',
                                                padding: '0.75rem',
                                                background: currentView === view ? '#8b5cf6' : 'transparent',
                                                color: 'white',
                                                border: 'none',
                                                borderRadius: '0.5rem',
                                                cursor: 'pointer',
                                                marginBottom: '0.5rem'
                                            }
                                        }, 
                                        view === 'dashboard' ? 'üìä Dashboard' :
                                        view === 'checklist' ? '‚úÖ Checklist' :
                                        view === 'auditoria' ? 'üîç Auditoria' :
                                        view === 'painel' ? 'üèôÔ∏è Painel da Cidade' : '‚öôÔ∏è Administra√ß√£o'
                                        )
                                    )
                                )
                            ),
                            
                            // Conte√∫do principal
                            h('div', { style: { flex: 1, padding: '2rem' } },
                                h('h2', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '2rem' } }, 'Sistema de Checklist'),
                                
                                // Cards para criar checklist
                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '1.5rem', marginBottom: '2rem' } },
                                    h('div', { 
                                        style: { 
                                            background: 'linear-gradient(135deg, #3b82f6, #1d4ed8)', 
                                            color: 'white', 
                                            padding: '2rem', 
                                            borderRadius: '1rem', 
                                            cursor: 'pointer',
                                            transition: 'transform 0.2s',
                                            ':hover': { transform: 'scale(1.05)' }
                                        },
                                        onClick: () => startNewChecklist('staff')
                                    },
                                        h('h3', { style: { fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' } }, 'üë• Checklist Staff'),
                                        h('p', { style: { opacity: 0.9 } }, 'Auditoria das equipes do Discord')
                                    ),
                                    h('div', { 
                                        style: { 
                                            background: 'linear-gradient(135deg, #10b981, #059669)', 
                                            color: 'white', 
                                            padding: '2rem', 
                                            borderRadius: '1rem', 
                                            cursor: 'pointer',
                                            transition: 'transform 0.2s'
                                        },
                                        onClick: () => startNewChecklist('rp')
                                    },
                                        h('h3', { style: { fontSize: '1.5rem', fontWeight: 'bold', marginBottom: '1rem' } }, 'üé≠ Checklist RP'),
                                        h('p', { style: { opacity: 0.9 } }, 'Auditoria dos setores Roleplay')
                                    )
                                ),

                                // Lista de checklists
                                h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                    h('h3', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1.5rem' } }, 'Meus Checklists'),
                                    checklists.filter(c => c.autorId === currentUser.id).length === 0 ? 
                                        h('p', { style: { color: '#6b7280', textAlign: 'center', padding: '2rem' } }, 'Nenhum checklist criado ainda. Clique nos cards acima para come√ßar!') :
                                        h('div', { style: { display: 'grid', gap: '1rem' } },
                                            checklists.filter(c => c.autorId === currentUser.id).map(checklist => 
                                                h('div', { 
                                                    key: checklist.id,
                                                    style: { 
                                                        display: 'flex', 
                                                        justifyContent: 'space-between', 
                                                        alignItems: 'center', 
                                                        padding: '1rem', 
                                                        border: '1px solid #e5e7eb', 
                                                        borderRadius: '0.5rem',
                                                        background: '#f9fafb'
                                                    }
                                                },
                                                    h('div', null,
                                                        h('p', { style: { fontWeight: 'bold', color: '#1f2937' } }, 
                                                            `${checklist.tipo === 'staff' ? 'Staff' : 'RP'} - ${checklist.equipe || checklist.setor}`
                                                        ),
                                                        h('p', { style: { fontSize: '0.875rem', color: '#6b7280' } }, 
                                                            `Criado em: ${new Date(checklist.createdAt).toLocaleDateString('pt-BR')}`
                                                        )
                                                    ),
                                                    h('div', { style: { display: 'flex', alignItems: 'center', gap: '1rem' } },
                                                        h('span', { 
                                                            style: { 
                                                                padding: '0.25rem 0.75rem', 
                                                                borderRadius: '9999px', 
                                                                fontSize: '0.75rem', 
                                                                fontWeight: 'bold',
                                                                background: checklist.status === 'aprovado' ? '#dcfce7' : 
                                                                           checklist.status === 'aguardando_aprovacao' ? '#fef3c7' : '#dbeafe',
                                                                color: checklist.status === 'aprovado' ? '#166534' : 
                                                                       checklist.status === 'aguardando_aprovacao' ? '#92400e' : '#1e40af'
                                                            }
                                                        }, checklist.status.toUpperCase().replace('_', ' ')),
                                                        checklist.status === 'em_andamento' && h('button', {
                                                            onClick: () => {
                                                                setCurrentChecklist(checklist);
                                                                setFormData(checklist);
                                                            },
                                                            style: { 
                                                                background: '#3b82f6', 
                                                                color: 'white', 
                                                                padding: '0.5rem 1rem', 
                                                                border: 'none', 
                                                                borderRadius: '0.25rem', 
                                                                cursor: 'pointer',
                                                                fontSize: '0.875rem'
                                                            }
                                                        }, 'Continuar')
                                                    )
                                                )
                                            )
                                        )
                                )
                            )
                        )
                    );
                };

                // P√°gina de Administra√ß√£o
                const AdminPage = () => {
                    const [users, setUsers] = useStoredState('users', []);
                    const [pendingUsers, setPendingUsers] = useStoredState('pendingUsers', []);
                    const [checklists, setChecklists] = useStoredState('checklists', []);
                    const [auditorias, setAuditorias] = useStoredState('auditorias', []);

                    // Verificar se o usu√°rio tem permiss√£o
                    if (!['CEO', 'Diretor'].includes(currentUser?.cargo)) {
                        return h('div', { style: { minHeight: '100vh', background: '#f8fafc', display: 'flex', alignItems: 'center', justifyContent: 'center' } },
                            h('div', { style: { textAlign: 'center', background: 'white', padding: '2rem', borderRadius: '1rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                h('h2', { style: { color: '#ef4444', marginBottom: '1rem' } }, 'üö´ Acesso Negado'),
                                h('p', { style: { color: '#6b7280', marginBottom: '1rem' } }, 'Apenas CEOs e Diretores podem acessar esta √°rea.'),
                                h('button', {
                                    onClick: () => setCurrentView('dashboard'),
                                    style: { background: '#3b82f6', color: 'white', padding: '0.5rem 1rem', border: 'none', borderRadius: '0.5rem', cursor: 'pointer' }
                                }, 'Voltar ao Dashboard')
                            )
                        );
                    }

                    const approveUser = (userId) => {
                        const user = pendingUsers.find(u => u.id === userId);
                        if (user) {
                            setUsers([...users, { ...user, status: 'aprovado' }]);
                            setPendingUsers(pendingUsers.filter(u => u.id !== userId));
                            alert('‚úÖ Usu√°rio aprovado com sucesso!');
                        }
                    };

                    const rejectUser = (userId) => {
                        setPendingUsers(pendingUsers.filter(u => u.id !== userId));
                        alert('‚ùå Usu√°rio rejeitado!');
                    };

                    const approveChecklist = (checklistId) => {
                        setChecklists(checklists.map(c => 
                            c.id === checklistId ? { 
                                ...c, 
                                status: 'aprovado', 
                                approvedBy: currentUser.id, 
                                approvedAt: new Date().toISOString() 
                            } : c
                        ));
                        alert('‚úÖ Checklist aprovado!');
                    };

                    const approveAuditoria = (auditoriaId) => {
                        setAuditorias(auditorias.map(a => 
                            a.id === auditoriaId ? { 
                                ...a, 
                                status: 'aprovada', 
                                approvedBy: currentUser.id, 
                                approvedAt: new Date().toISOString() 
                            } : a
                        ));
                        alert('‚úÖ Auditoria aprovada!');
                    };

                    const checklistsPendentes = checklists.filter(c => c.status === 'aguardando_aprovacao');
                    const auditoriasPendentes = auditorias.filter(a => a.status === 'aguardando_aprovacao');

                    return h('div', { style: { minHeight: '100vh', background: '#f8fafc' } },
                        // Header
                        h('div', { style: { background: 'white', borderBottom: '4px solid #8b5cf6', padding: '1rem 0' } },
                            h('div', { style: { maxWidth: '1200px', margin: '0 auto', padding: '0 1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                h('h1', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', margin: 0 } }, 'MetaX - Administra√ß√£o'),
                                h('button', {
                                    onClick: () => {
                                        setCurrentUser(null);
                                        setCurrentView('login');
                                    },
                                    style: { background: '#ef4444', color: 'white', padding: '0.5rem 1rem', border: 'none', borderRadius: '0.5rem', cursor: 'pointer' }
                                }, 'Sair')
                            )
                        ),
                        
                        h('div', { style: { display: 'flex' } },
                            // Sidebar
                            h('div', { style: { background: '#1f2937', color: 'white', width: '16rem', minHeight: 'calc(100vh - 80px)' } },
                                h('div', { style: { padding: '1rem' } },
                                    ['dashboard', 'checklist', 'auditoria', 'painel', 'admin'].map(view => 
                                        h('button', {
                                            key: view,
                                            onClick: () => setCurrentView(view),
                                            style: {
                                                width: '100%',
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: '0.75rem',
                                                padding: '0.75rem',
                                                background: currentView === view ? '#8b5cf6' : 'transparent',
                                                color: 'white',
                                                border: 'none',
                                                borderRadius: '0.5rem',
                                                cursor: 'pointer',
                                                marginBottom: '0.5rem'
                                            }
                                        }, 
                                        view === 'dashboard' ? 'üìä Dashboard' :
                                        view === 'checklist' ? '‚úÖ Checklist' :
                                        view === 'auditoria' ? 'üîç Auditoria' :
                                        view === 'painel' ? 'üèôÔ∏è Painel da Cidade' : '‚öôÔ∏è Administra√ß√£o'
                                        )
                                    )
                                )
                            ),
                            
                            // Conte√∫do principal
                            h('div', { style: { flex: 1, padding: '2rem' } },
                                h('h2', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '2rem' } }, 'Painel de Administra√ß√£o'),
                                
                                // Cards de estat√≠sticas
                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginBottom: '2rem' } },
                                    h('div', { style: { background: '#fef3c7', padding: '1.5rem', borderRadius: '1rem', textAlign: 'center' } },
                                        h('div', { style: { fontSize: '2rem', marginBottom: '0.5rem' } }, 'üë•'),
                                        h('p', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#92400e', margin: 0 } }, pendingUsers.length),
                                        h('p', { style: { color: '#78716c', fontSize: '0.875rem', margin: 0 } }, 'Usu√°rios Pendentes')
                                    ),
                                    h('div', { style: { background: '#dbeafe', padding: '1.5rem', borderRadius: '1rem', textAlign: 'center' } },
                                        h('div', { style: { fontSize: '2rem', marginBottom: '0.5rem' } }, '‚úÖ'),
                                        h('p', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#1e40af', margin: 0 } }, checklistsPendentes.length),
                                        h('p', { style: { color: '#6b7280', fontSize: '0.875rem', margin: 0 } }, 'Checklists Pendentes')
                                    ),
                                    h('div', { style: { background: '#f3e8ff', padding: '1.5rem', borderRadius: '1rem', textAlign: 'center' } },
                                        h('div', { style: { fontSize: '2rem', marginBottom: '0.5rem' } }, 'üîç'),
                                        h('p', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#7c2d12', margin: 0 } }, auditoriasPendentes.length),
                                        h('p', { style: { color: '#6b7280', fontSize: '0.875rem', margin: 0 } }, 'Auditorias Pendentes')
                                    ),
                                    h('div', { style: { background: '#ecfdf5', padding: '1.5rem', borderRadius: '1rem', textAlign: 'center' } },
                                        h('div', { style: { fontSize: '2rem', marginBottom: '0.5rem' } }, 'üë§'),
                                        h('p', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#166534', margin: 0 } }, users.length),
                                        h('p', { style: { color: '#6b7280', fontSize: '0.875rem', margin: 0 } }, 'Usu√°rios Ativos')
                                    )
                                ),

                                // Usu√°rios pendentes de aprova√ß√£o
                                pendingUsers.length > 0 && h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)', marginBottom: '2rem' } },
                                    h('h3', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1.5rem', display: 'flex', alignItems: 'center', gap: '0.5rem' } }, 
                                        'üë• Usu√°rios Pendentes de Aprova√ß√£o'
                                    ),
                                    h('div', { style: { display: 'grid', gap: '1rem' } },
                                        pendingUsers.map(user => 
                                            h('div', { 
                                                key: user.id,
                                                style: { 
                                                    display: 'flex', 
                                                    justifyContent: 'space-between', 
                                                    alignItems: 'center', 
                                                    padding: '1rem', 
                                                    border: '1px solid #fed7aa', 
                                                    borderRadius: '0.5rem',
                                                    background: '#fff7ed'
                                                }
                                            },
                                                h('div', null,
                                                    h('p', { style: { fontWeight: 'bold', color: '#1f2937' } }, user.nome),
                                                    h('p', { style: { fontSize: '0.875rem', color: '#6b7280' } }, `ID: ${user.id} | Cargo: ${user.cargo}`),
                                                    h('p', { style: { fontSize: '0.75rem', color: '#9ca3af' } }, 
                                                        `Cadastrado em: ${new Date(user.createdAt).toLocaleDateString('pt-BR')}`
                                                    )
                                                ),
                                                h('div', { style: { display: 'flex', gap: '0.5rem' } },
                                                    h('button', {
                                                        onClick: () => approveUser(user.id),
                                                        style: { 
                                                            background: '#10b981', 
                                                            color: 'white', 
                                                            padding: '0.5rem 1rem', 
                                                            border: 'none', 
                                                            borderRadius: '0.25rem', 
                                                            cursor: 'pointer',
                                                            fontSize: '0.875rem'
                                                        }
                                                    }, '‚úÖ Aprovar'),
                                                    h('button', {
                                                        onClick: () => rejectUser(user.id),
                                                        style: { 
                                                            background: '#ef4444', 
                                                            color: 'white', 
                                                            padding: '0.5rem 1rem', 
                                                            border: 'none', 
                                                            borderRadius: '0.25rem', 
                                                            cursor: 'pointer',
                                                            fontSize: '0.875rem'
                                                        }
                                                    }, '‚ùå Rejeitar')
                                                )
                                            )
                                        )
                                    )
                                ),

                                // Se√ß√£o de aprova√ß√µes
                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(450px, 1fr))', gap: '1.5rem' } },
                                    // Checklists para aprova√ß√£o
                                    h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                        h('h3', { style: { fontSize: '1.25rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem' } }, 
                                            '‚úÖ Checklists para Aprova√ß√£o'
                                        ),
                                        checklistsPendentes.length === 0 ? 
                                            h('p', { style: { color: '#6b7280', textAlign: 'center', padding: '2rem' } }, 'Nenhum checklist pendente') :
                                            h('div', { style: { display: 'grid', gap: '1rem' } },
                                                checklistsPendentes.map(checklist => 
                                                    h('div', { 
                                                        key: checklist.id,
                                                        style: { 
                                                            padding: '1rem', 
                                                            border: '1px solid #bfdbfe', 
                                                            borderRadius: '0.5rem',
                                                            background: '#eff6ff'
                                                        }
                                                    },
                                                        h('div', { style: { marginBottom: '0.75rem' } },
                                                            h('p', { style: { fontWeight: 'bold', color: '#1f2937' } }, 
                                                                `${checklist.tipo === 'staff' ? 'Staff' : 'RP'} - ${checklist.equipe || checklist.setor}`
                                                            ),
                                                            h('p', { style: { fontSize: '0.875rem', color: '#6b7280' } }, 
                                                                `Por: ${users.find(u => u.id === checklist.autorId)?.nome || 'Usu√°rio'}`
                                                            ),
                                                            h('p', { style: { fontSize: '0.75rem', color: '#9ca3af' } }, 
                                                                `Criado: ${new Date(checklist.createdAt).toLocaleDateString('pt-BR')}`
                                                            )
                                                        ),
                                                        h('div', { style: { display: 'flex', gap: '0.5rem' } },
                                                            h('button', {
                                                                onClick: () => approveChecklist(checklist.id),
                                                                style: { 
                                                                    background: '#10b981', 
                                                                    color: 'white', 
                                                                    padding: '0.5rem 1rem', 
                                                                    border: 'none', 
                                                                    borderRadius: '0.25rem', 
                                                                    cursor: 'pointer',
                                                                    fontSize: '0.875rem'
                                                                }
                                                            }, 'Aprovar'),
                                                            h('button', {
                                                                style: { 
                                                                    background: '#3b82f6', 
                                                                    color: 'white', 
                                                                    padding: '0.5rem 1rem', 
                                                                    border: 'none', 
                                                                    borderRadius: '0.25rem', 
                                                                    cursor: 'pointer',
                                                                    fontSize: '0.875rem'
                                                                }
                                                            }, 'Ver Detalhes')
                                                        )
                                                    )
                                                )
                                            )
                                    ),

                                    // Auditorias para aprova√ß√£o
                                    h('div', { style: { background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' } },
                                        h('h3', { style: { fontSize: '1.25rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '0.5rem' } }, 
                                            'üîç Auditorias para Aprova√ß√£o'
                                        ),
                                        auditoriasPendentes.length === 0 ? 
                                            h('p', { style: { color: '#6b7280', textAlign: 'center', padding: '2rem' } }, 'Nenhuma auditoria pendente') :
                                            h('div', { style: { display: 'grid', gap: '1rem' } },
                                                auditoriasPendentes.map(auditoria => 
                                                    h('div', { 
                                                        key: auditoria.id,
                                                        style: { 
                                                            padding: '1rem', 
                                                            border: '1px solid #c4b5fd', 
                                                            borderRadius: '0.5rem',
                                                            background: '#f5f3ff'
                                                        }
                                                    },
                                                        h('div', { style: { marginBottom: '0.75rem' } },
                                                            h('p', { style: { fontWeight: 'bold', color: '#1f2937' } }, 
                                                                `${auditoria.tipo} - ${auditoria.setor}`
                                                            ),
                                                            h('p', { style: { fontSize: '0.875rem', color: '#6b7280' } }, 
                                                                `Por: ${users.find(u => u.id === auditoria.autorId)?.nome || 'Usu√°rio'}`
                                                            ),
                                                            h('p', { style: { fontSize: '0.75rem', color: '#9ca3af' } }, 
                                                                `Criado: ${new Date(auditoria.createdAt).toLocaleDateString('pt-BR')}`
                                                            )
                                                        ),
                                                        h('div', { style: { display: 'flex', gap: '0.5rem' } },
                                                            h('button', {
                                                                onClick: () => approveAuditoria(auditoria.id),
                                                                style: { 
                                                                    background: '#10b981', 
                                                                    color: 'white', 
                                                                    padding: '0.5rem 1rem', 
                                                                    border: 'none', 
                                                                    borderRadius: '0.25rem', 
                                                                    cursor: 'pointer',
                                                                    fontSize: '0.875rem'
                                                                }
                                                            }, 'Aprovar'),
                                                            h('button', {
                                                                style: { 
                                                                    background: '#7c3aed', 
                                                                    color: 'white', 
                                                                    padding: '0.5rem 1rem', 
                                                                    border: 'none', 
                                                                    borderRadius: '0.25rem', 
                                                                    cursor: 'pointer',
                                                                    fontSize: '0.875rem'
                                                                }
                                                            }, 'Ver Detalhes')
                                                        )
                                                    )
                                                )
                                            )
                                    )
                                )
                            )
                        )
                    );
                };

                // Renderiza√ß√£o condicional
                console.log('üñºÔ∏è Renderizando view:', currentView);

                if (!currentUser) {
                    return h(LoginForm);
                }

                switch (currentView) {
                    case 'dashboard':
                        return h(Dashboard);
                    case 'checklist':
                        return h(ChecklistPage);
                    case 'auditoria':
                        return h(AuditoriaPage);
                    case 'painel':
                        return h(PainelCidadePage);
                    case 'admin':
                        return h(AdminPage);
                    default:
                        return h(Dashboard);
                }
            };

            // Renderizar o sistema
            try {
                console.log('üé® Renderizando MetaX System...');
                const rootElement = document.getElementById('root');
                
                if (!rootElement) {
                    throw new Error('Elemento root n√£o encontrado');
                }

                const root = ReactDOM.createRoot(rootElement);
                root.render(h(MetaXSystem));
                
                console.log('‚úÖ Sistema MetaX renderizado com sucesso!');
            } catch (error) {
                console.error('‚ùå Erro na renderiza√ß√£o:', error);
                document.getElementById('root').innerHTML = `
                    <div style="padding: 2rem; text-align: center; background: #fee2e2; color: #991b1b; border-radius: 0.5rem; margin: 1rem;">
                        <h2>‚ùå Erro no Sistema MetaX</h2>
                        <p>Erro: ${error.message}</p>
                        <button onclick="location.reload()" style="background: #dc2626; color: white; padding: 0.5rem 1rem; border: none; border-radius: 0.25rem; cursor: pointer;">
                            üîÑ Recarregar
                        </button>
                    </div>
                `;
            }
        })();
    </script>
</body>
</html>
