<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MetaX v6.0 - Sistema Tecnol√≥gico de Auditoria FiveM</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            margin: 0; 
            padding: 0; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            overflow-x: hidden;
        }
        #root { min-height: 100vh; }
        
        /* TELA DE CARREGAMENTO TECNOL√ìGICA AVAN√áADA */
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 30%, #2a2a2a 70%, #0a0a0a 100%);
            color: #ffd700;
            position: relative;
            overflow: hidden;
        }
        
        /* Efeito de varredura tecnol√≥gica */
        .loading::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 215, 0, 0.1), 
                rgba(255, 215, 0, 0.3), 
                rgba(255, 215, 0, 0.1), 
                transparent
            );
            animation: tech-scan 4s infinite;
        }
        
        /* Grid tecnol√≥gico animado */
        .tech-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255, 215, 0, 0.15) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 215, 0, 0.15) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: grid-pulse 3s ease-in-out infinite;
            opacity: 0.4;
        }
        
        /* √çcone principal pulsante com glow */
        .loading-icon {
            font-size: 6rem;
            margin-bottom: 2rem;
            animation: icon-glow 2s ease-in-out infinite;
            text-shadow: 
                0 0 20px #ffd700, 
                0 0 40px #ffd700, 
                0 0 60px #ffd700,
                0 0 80px #ffd700;
            filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.8));
        }
        
        /* T√≠tulo com gradiente dourado */
        .loading-title {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 1rem;
            text-align: center;
            background: linear-gradient(45deg, #ffd700 0%, #ffffff 50%, #ffd700 100%);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: title-shimmer 3s ease-in-out infinite;
            letter-spacing: 2px;
        }
        
        /* Subt√≠tulo verde tecnol√≥gico */
        .loading-subtitle {
            font-size: 1.4rem;
            margin-bottom: 3rem;
            text-align: center;
            color: #228B22;
            font-weight: 600;
            opacity: 0.95;
            animation: subtitle-fade 2s ease-in-out infinite alternate;
        }
        
        /* Container da barra de progresso */
        .progress-container {
            width: 500px;
            max-width: 90vw;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            margin-bottom: 1.5rem;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }
        
        /* Barra de progresso animada */
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, 
                #ffd700 0%, 
                #228B22 25%, 
                #ffd700 50%, 
                #228B22 75%, 
                #ffd700 100%
            );
            background-size: 300% 100%;
            border-radius: 20px;
            animation: 
                progress-fill 3s ease-out,
                gradient-flow 2s linear infinite;
            box-shadow: 
                0 0 20px rgba(255, 215, 0, 0.6),
                inset 0 2px 4px rgba(255, 255, 255, 0.3);
        }
        
        /* Status de carregamento */
        .loading-status {
            font-size: 1.1rem;
            color: #fff;
            margin-top: 1rem;
            animation: status-pulse 2.5s infinite;
            font-weight: 500;
            text-align: center;
        }
        
        /* Anima√ß√µes */
        @keyframes tech-scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        @keyframes grid-pulse {
            0%, 100% { opacity: 0.4; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.02); }
        }
        
        @keyframes icon-glow {
            0%, 100% { 
                transform: scale(1); 
                text-shadow: 0 0 20px #ffd700, 0 0 40px #ffd700, 0 0 60px #ffd700;
            }
            50% { 
                transform: scale(1.1); 
                text-shadow: 0 0 30px #ffd700, 0 0 60px #ffd700, 0 0 90px #ffd700, 0 0 120px #ffd700;
            }
        }
        
        @keyframes title-shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        @keyframes subtitle-fade {
            0% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        
        @keyframes progress-fill {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        
        @keyframes gradient-flow {
            0% { background-position: 0% 0%; }
            100% { background-position: 300% 0%; }
        }
        
        @keyframes status-pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        /* TEMA PRINCIPAL DO SISTEMA - PRETO, DOURADO, VERDE ESCURO E BRANCO */
        :root {
            --color-primary: #0a0a0a;      /* Preto principal */
            --color-secondary: #ffd700;     /* Dourado */
            --color-accent: #228B22;        /* Verde escuro */
            --color-white: #ffffff;         /* Branco */
            --color-gray-dark: #1a1a1a;     /* Cinza escuro */
            --color-gray-medium: #333333;   /* Cinza m√©dio */
        }
        
        /* Estilos globais do sistema */
        .system-bg {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-gray-dark) 100%);
        }
        
        .tech-border {
            border: 2px solid var(--color-secondary);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }
        
        .glow-text {
            text-shadow: 0 0 10px var(--color-secondary);
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading">
            <div class="tech-grid"></div>
            <div class="loading-icon">
                <img src="7OsVdf11eWzHzb9rboO-4" alt="MetaX Group Logo" style="width: 120px; height: 120px; filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.8)); border-radius: 15px; background: rgba(0,0,0,0.3); backdrop-filter: blur(10px);">
            </div>
            <div class="loading-title">Bem-vindo Auditoria MetaX</div>
            <div class="loading-subtitle">Sistema √önico e Exclusivo Mundial de Auditoria FiveM</div>
            <div class="progress-container">
                <div class="progress-bar"></div>
            </div>
            <div class="loading-status">Inicializando sistemas avan√ßados de auditoria...</div>
        </div>
    </div>
    
    <script>
        console.log('üî• Iniciando MetaX v6.0 - Sistema Tecnol√≥gico de Auditoria...');
        
        // Aguardar carregamento completo com tela tecnol√≥gica de 3 segundos
        setTimeout(() => {
            try {
                if (typeof React === 'undefined' || typeof ReactDOM === 'undefined') {
                    throw new Error('React n√£o carregado');
                }

                const { useState, useEffect, createElement: h } = React;
                
                // Hook personalizado para localStorage
                const useStoredState = (key, initialValue) => {
                    const [value, setValue] = useState(() => {
                        try {
                            const stored = localStorage.getItem('metax_' + key);
                            return stored ? JSON.parse(stored) : initialValue;
                        } catch {
                            return initialValue;
                        }
                    });

                    useEffect(() => {
                        try {
                            localStorage.setItem('metax_' + key, JSON.stringify(value));
                        } catch (e) {
                            console.warn('LocalStorage error:', e);
                        }
                    }, [key, value]);

                    return [value, setValue];
                };

                // Componente principal do sistema
                const MetaXSystem = () => {
                    const [currentUser, setCurrentUser] = useStoredState('currentUser', null);
                    const [users, setUsers] = useStoredState('users', []);
                    const [pendingUsers, setPendingUsers] = useStoredState('pendingUsers', []);
                    const [checklists, setChecklists] = useStoredState('checklists', []);
                    const [auditorias, setAuditorias] = useStoredState('auditorias', []);
                    const [currentView, setCurrentView] = useStoredState('currentView', 'login');
                    const [solicitacoesFinanceiras, setSolicitacoesFinanceiras] = useStoredState('solicitacoesFinanceiras', []);

                    // Inicializar usu√°rios padr√£o
                    useEffect(() => {
                        const defaultUsers = [
                            {
                                id: 'admin001',
                                nome: 'Admin Sistema',
                                senha: 'admin123',
                                cargo: 'CEO',
                                status: 'aprovado',
                                createdAt: new Date().toISOString()
                            },
                            {
                                id: '7',
                                nome: 'Daniel',
                                senha: '5609984',
                                cargo: 'Diretor',
                                status: 'aprovado',
                                createdAt: new Date().toISOString()
                            }
                        ];

                        if (users.length === 0) {
                            setUsers(defaultUsers);
                        }
                    }, []);

                    // Componente de Login
                    const LoginPage = () => {
                        const [formData, setFormData] = useState({ id: '', senha: '' });
                        const [isRegister, setIsRegister] = useState(false);
                        const [isResetPassword, setIsResetPassword] = useState(false);
                        const [registerData, setRegisterData] = useState({
                            nome: '', id: '', senha: '', cargo: 'Staff Geral'
                        });
                        const [resetData, setResetData] = useState({ id: '', novaSenha: '' });

                        const handleLogin = (e) => {
                            e.preventDefault();
                            
                            const user = users.find(u => 
                                String(u.id) === String(formData.id) && 
                                String(u.senha) === String(formData.senha) && 
                                u.status === 'aprovado'
                            );
                            
                            if (user) {
                                setCurrentUser(user);
                                setCurrentView('dashboard');
                                console.log('‚úÖ Login realizado:', user.nome);
                            } else {
                                alert('‚ùå ID ou senha incorretos!');
                            }
                        };

                        const handleRegister = (e) => {
                            e.preventDefault();
                            
                            if (!registerData.nome || !registerData.id || !registerData.senha) {
                                alert('‚ö†Ô∏è Preencha todos os campos!');
                                return;
                            }

                            const userExists = [...users, ...pendingUsers].find(u => u.id === registerData.id);
                            if (userExists) {
                                alert('‚ùå ID j√° existe!');
                                return;
                            }

                            const newUser = {
                                ...registerData,
                                status: 'pendente',
                                createdAt: new Date().toISOString()
                            };

                            setPendingUsers([...pendingUsers, newUser]);
                            alert('‚úÖ Cadastro enviado para aprova√ß√£o!');
                            setIsRegister(false);
                            setRegisterData({ nome: '', id: '', senha: '', cargo: 'Staff Geral' });
                        };

                        const handlePasswordReset = (e) => {
                            e.preventDefault();
                            
                            if (!resetData.id || !resetData.novaSenha) {
                                alert('‚ö†Ô∏è Preencha todos os campos!');
                                return;
                            }

                            const userExists = users.find(u => u.id === resetData.id && u.status === 'aprovado');
                            if (!userExists) {
                                alert('‚ùå ID n√£o encontrado ou usu√°rio n√£o aprovado!');
                                return;
                            }

                            setUsers(users.map(u => 
                                u.id === resetData.id ? { ...u, senha: resetData.novaSenha } : u
                            ));
                            
                            alert('‚úÖ Senha alterada com sucesso!');
                            setIsResetPassword(false);
                            setResetData({ id: '', novaSenha: '' });
                        };

                        const inputStyle = {
                            width: '100%',
                            padding: '16px',
                            border: '2px solid #ffd700',
                            borderRadius: '12px',
                            background: 'rgba(0,0,0,0.7)',
                            color: '#fff',
                            fontSize: '16px',
                            fontWeight: '500',
                            boxShadow: '0 0 15px rgba(255, 215, 0, 0.2)'
                        };

                        const buttonStyle = {
                            width: '100%',
                            padding: '16px',
                            borderRadius: '12px',
                            border: '2px solid #ffd700',
                            fontSize: '16px',
                            fontWeight: 'bold',
                            cursor: 'pointer',
                            marginBottom: '12px',
                            transition: 'all 0.3s ease',
                            textTransform: 'uppercase',
                            letterSpacing: '1px'
                        };

                        return h('div', {
                            style: {
                                minHeight: '100vh',
                                background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2a2a2a 100%)',
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center',
                                padding: '20px',
                                position: 'relative'
                            }
                        },
                            // Grid tecnol√≥gico de fundo
                            h('div', {
                                style: {
                                    position: 'absolute',
                                    top: 0,
                                    left: 0,
                                    width: '100%',
                                    height: '100%',
                                    backgroundImage: `
                                        linear-gradient(rgba(255, 215, 0, 0.1) 1px, transparent 1px),
                                        linear-gradient(90deg, rgba(255, 215, 0, 0.1) 1px, transparent 1px)
                                    `,
                                    backgroundSize: '50px 50px',
                                    opacity: 0.3,
                                    animation: 'grid-move 6s linear infinite'
                                }
                            }),
                            h('div', {
                                style: {
                                    background: 'rgba(0,0,0,0.85)',
                                    backdropFilter: 'blur(15px)',
                                    borderRadius: '24px',
                                    padding: '50px',
                                    width: '100%',
                                    maxWidth: '450px',
                                    border: '3px solid #ffd700',
                                    boxShadow: '0 0 60px rgba(255, 215, 0, 0.4)',
                                    position: 'relative',
                                    zIndex: 1
                                }
                            },
                                // Header
                                h('div', { style: { textAlign: 'center', marginBottom: '40px' } },
                                    h('div', { style: { display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '16px', marginBottom: '12px' } },
                                        h('img', { 
                                            src: 'MrqmRifXChNG1cgB8Y9TA', 
                                            alt: 'MetaX Logo', 
                                            style: { 
                                                width: '60px', 
                                                height: '60px', 
                                                filter: 'drop-shadow(0 0 20px rgba(255, 215, 0, 0.6))',
                                                borderRadius: '10px',
                                                background: 'rgba(0,0,0,0.2)',
                                                backdropFilter: 'blur(5px)'
                                            } 
                                        }),
                                        h('h1', { 
                                            style: { 
                                                background: 'linear-gradient(45deg, #ffd700, #fff)',
                                                WebkitBackgroundClip: 'text',
                                                WebkitTextFillColor: 'transparent',
                                                backgroundClip: 'text',
                                                fontSize: '2.8rem', 
                                                margin: 0, 
                                                fontWeight: '900',
                                                textShadow: '0 0 30px rgba(255, 215, 0, 0.5)',
                                                letterSpacing: '2px'
                                            } 
                                        }, 'Sistema MetaX')
                                    ),
                                    h('p', { 
                                        style: { 
                                            color: '#228B22', 
                                            fontSize: '1.2rem',
                                            fontWeight: '600',
                                            textShadow: '0 0 10px rgba(34, 139, 34, 0.3)'
                                        } 
                                    }, 'Sistema √önico e Exclusivo Mundial de Auditoria FiveM')
                                ),

                                // Formul√°rios
                                !isRegister && !isResetPassword ? (
                                    // Login Form
                                    h('form', { onSubmit: handleLogin },
                                        h('div', { style: { marginBottom: '24px' } },
                                            h('label', { style: { display: 'block', color: '#ffd700', marginBottom: '10px', fontWeight: '700', fontSize: '1.1rem' } }, 'ID do Usu√°rio'),
                                            h('input', {
                                                type: 'text',
                                                value: formData.id,
                                                onChange: (e) => setFormData({ ...formData, id: e.target.value }),
                                                placeholder: 'Digite seu ID',
                                                style: inputStyle,
                                                required: true
                                            })
                                        ),
                                        h('div', { style: { marginBottom: '24px' } },
                                            h('label', { style: { display: 'block', color: '#ffd700', marginBottom: '10px', fontWeight: '700', fontSize: '1.1rem' } }, 'Senha'),
                                            h('input', {
                                                type: 'password',
                                                value: formData.senha,
                                                onChange: (e) => setFormData({ ...formData, senha: e.target.value }),
                                                placeholder: 'Digite sua senha',
                                                style: inputStyle,
                                                required: true
                                            })
                                        ),
                                        h('button', {
                                            type: 'submit',
                                            style: { 
                                                ...buttonStyle, 
                                                background: 'linear-gradient(45deg, #ffd700, #228B22)', 
                                                color: '#000', 
                                                boxShadow: '0 0 25px rgba(255, 215, 0, 0.5)',
                                                fontWeight: '900'
                                            }
                                        }, 'Entrar no Sistema'),
                                        h('button', {
                                            type: 'button',
                                            onClick: () => setIsRegister(true),
                                            style: { ...buttonStyle, background: 'transparent', color: '#ffd700', border: '2px solid #ffd700' }
                                        }, 'Criar Nova Conta'),
                                        h('button', {
                                            type: 'button',
                                            onClick: () => setIsResetPassword(true),
                                            style: { ...buttonStyle, background: 'transparent', color: '#228B22', border: '2px solid #228B22', marginTop: '12px' }
                                        }, 'üîê Recuperar Senha')
                                    )
                                ) : isRegister ? (
                                    // Register Form
                                    h('form', { onSubmit: handleRegister },
                                        h('div', { style: { marginBottom: '20px' } },
                                            h('label', { style: { display: 'block', color: '#ffd700', marginBottom: '8px', fontWeight: '700' } }, 'Nome Completo'),
                                            h('input', {
                                                type: 'text',
                                                value: registerData.nome,
                                                onChange: (e) => setRegisterData({ ...registerData, nome: e.target.value }),
                                                placeholder: 'Seu nome completo',
                                                style: inputStyle,
                                                required: true
                                            })
                                        ),
                                        h('div', { style: { marginBottom: '20px' } },
                                            h('label', { style: { display: 'block', color: '#ffd700', marginBottom: '8px', fontWeight: '700' } }, 'ID √önico'),
                                            h('input', {
                                                type: 'text',
                                                value: registerData.id,
                                                onChange: (e) => setRegisterData({ ...registerData, id: e.target.value }),
                                                placeholder: 'Escolha um ID √∫nico',
                                                style: inputStyle,
                                                required: true
                                            })
                                        ),
                                        h('div', { style: { marginBottom: '20px' } },
                                            h('label', { style: { display: 'block', color: '#ffd700', marginBottom: '8px', fontWeight: '700' } }, 'Senha'),
                                            h('input', {
                                                type: 'password',
                                                value: registerData.senha,
                                                onChange: (e) => setRegisterData({ ...registerData, senha: e.target.value }),
                                                placeholder: 'Crie uma senha segura',
                                                style: inputStyle,
                                                required: true
                                            })
                                        ),
                                        h('div', { style: { marginBottom: '24px' } },
                                            h('label', { style: { display: 'block', color: '#ffd700', marginBottom: '8px', fontWeight: '700' } }, 'Cargo Desejado'),
                                            h('select', {
                                                value: registerData.cargo,
                                                onChange: (e) => setRegisterData({ ...registerData, cargo: e.target.value }),
                                                style: { ...inputStyle, color: '#fff' },
                                                required: true
                                            },
                                                ['CEO', 'Diretor', 'Alta C√∫pula', 'ADM Staff', 'RESP Comunidade', 'Mentoria', 'Staff Geral'].map(cargo =>
                                                    h('option', { key: cargo, value: cargo }, cargo)
                                                )
                                            )
                                        ),
                                        h('button', {
                                            type: 'submit',
                                            style: { ...buttonStyle, background: 'linear-gradient(45deg, #228B22, #ffd700)', color: '#000', fontWeight: '900' }
                                        }, 'Registrar'),
                                        h('button', {
                                            type: 'button',
                                            onClick: () => setIsRegister(false),
                                            style: { ...buttonStyle, background: 'transparent', color: '#ffd700', border: '2px solid #ffd700' }
                                        }, 'Voltar ao Login')
                                    )
                                ) : (
                                    // Reset Password Form
                                    h('form', { onSubmit: handlePasswordReset },
                                        h('div', { style: { marginBottom: '20px' } },
                                            h('label', { style: { display: 'block', color: '#ffd700', marginBottom: '8px', fontWeight: '700' } }, 'ID do Usu√°rio'),
                                            h('input', {
                                                type: 'text',
                                                value: resetData.id,
                                                onChange: (e) => setResetData({ ...resetData, id: e.target.value }),
                                                placeholder: 'Digite seu ID',
                                                style: inputStyle,
                                                required: true
                                            })
                                        ),
                                        h('div', { style: { marginBottom: '24px' } },
                                            h('label', { style: { display: 'block', color: '#ffd700', marginBottom: '8px', fontWeight: '700' } }, 'Nova Senha'),
                                            h('input', {
                                                type: 'password',
                                                value: resetData.novaSenha,
                                                onChange: (e) => setResetData({ ...resetData, novaSenha: e.target.value }),
                                                placeholder: 'Digite a nova senha',
                                                style: inputStyle,
                                                required: true
                                            })
                                        ),
                                        h('button', {
                                            type: 'submit',
                                            style: { ...buttonStyle, background: 'linear-gradient(45deg, #228B22, #ffd700)', color: '#000', fontWeight: '900' }
                                        }, 'üîê Alterar Senha'),
                                        h('button', {
                                            type: 'button',
                                            onClick: () => setIsResetPassword(false),
                                            style: { ...buttonStyle, background: 'transparent', color: '#ffd700', border: '2px solid #ffd700' }
                                        }, 'Voltar ao Login')
                                    )
                                )
                            )
                        );
                    };

                    // Header do sistema
                    const Header = () => h('header', {
                        style: {
                            background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%)',
                            borderBottom: '4px solid #ffd700',
                            boxShadow: '0 0 30px rgba(255, 215, 0, 0.4)'
                        }
                    },
                        h('div', {
                            style: {
                                maxWidth: '1200px',
                                margin: '0 auto',
                                padding: '20px 24px',
                                display: 'flex',
                                justifyContent: 'space-between',
                                alignItems: 'center'
                            }
                        },
                            h('div', null,
                                h('div', { style: { display: 'flex', alignItems: 'center', gap: '12px' } },
                                    h('img', { 
                                        src: 'MrqmRifXChNG1cgB8Y9TA', 
                                        alt: 'MetaX Logo', 
                                        style: { 
                                            width: '40px', 
                                            height: '40px', 
                                            filter: 'drop-shadow(0 0 15px rgba(255, 215, 0, 0.6))',
                                            borderRadius: '8px',
                                            background: 'rgba(0,0,0,0.1)',
                                            backdropFilter: 'blur(3px)'
                                        } 
                                    }),
                                    h('h1', { 
                                        style: { 
                                            fontSize: '2rem', 
                                            fontWeight: '900', 
                                            background: 'linear-gradient(45deg, #ffd700, #fff)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent',
                                            backgroundClip: 'text',
                                            margin: 0,
                                            textShadow: '0 0 30px rgba(255, 215, 0, 0.5)',
                                            letterSpacing: '1px'
                                        } 
                                    }, 'Sistema MetaX')
                                ),
                                h('p', { 
                                    style: { 
                                        fontSize: '1rem', 
                                        color: '#228B22', 
                                        margin: '4px 0 0 0', 
                                        fontWeight: '700',
                                        textShadow: '0 0 10px rgba(34, 139, 34, 0.3)'
                                    } 
                                }, 'Sistema √önico e Exclusivo Mundial de Auditoria FiveM')
                            ),
                            h('div', { style: { display: 'flex', alignItems: 'center', gap: '20px' } },
                                h('div', { style: { textAlign: 'right' } },
                                    h('p', { style: { fontWeight: '700', color: '#ffd700', margin: 0, fontSize: '1.1rem' } }, `${currentUser?.cargo} - ${currentUser?.nome}`),
                                    h('p', { style: { fontSize: '0.9rem', color: '#228B22', margin: 0, fontWeight: '600' } }, `ID: ${currentUser?.id}`)
                                ),
                                h('button', {
                                    onClick: () => {
                                        setCurrentUser(null);
                                        setCurrentView('login');
                                    },
                                    style: {
                                        background: 'linear-gradient(45deg, #228B22, #ffd700)',
                                        color: '#000',
                                        padding: '12px 20px',
                                        border: '2px solid #ffd700',
                                        borderRadius: '10px',
                                        cursor: 'pointer',
                                        fontWeight: '900',
                                        textTransform: 'uppercase',
                                        letterSpacing: '1px'
                                    }
                                }, 'Sair')
                            )
                        )
                    );

                    // Navega√ß√£o lateral
                    const Sidebar = () => h('nav', {
                        style: {
                            background: 'linear-gradient(180deg, #0a0a0a 0%, #1a1a1a 100%)',
                            color: '#ffd700',
                            width: '300px',
                            minHeight: 'calc(100vh - 84px)',
                            padding: '24px 0',
                            borderRight: '3px solid #ffd700',
                            boxShadow: '0 0 25px rgba(255, 215, 0, 0.3)'
                        }
                    },
                        h('div', { style: { padding: '0 24px' } },
                            [
                                { id: 'dashboard', label: 'üìä Dashboard', icon: 'üìä' },
                                { id: 'checklist', label: '‚úÖ Checklist', icon: '‚úÖ' },
                                { id: 'auditoria', label: 'üîç Auditoria', icon: 'üîç' },
                                { id: 'painel', label: 'üèôÔ∏è Painel da Cidade', icon: 'üèôÔ∏è' },
                                { id: 'financeiro', label: 'üí∏ Painel Financeiro', icon: 'üí∏' },
                                ...(currentUser?.cargo === 'CEO' || currentUser?.cargo === 'Diretor' 
                                    ? [{ id: 'admin', label: '‚öôÔ∏è Administra√ß√£o', icon: '‚öôÔ∏è' }] 
                                    : [])
                            ].map(item =>
                                h('button', {
                                    key: item.id,
                                    onClick: () => setCurrentView(item.id),
                                    style: {
                                        width: '100%',
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '15px',
                                        padding: '16px 20px',
                                        background: currentView === item.id ? 'linear-gradient(90deg, #ffd700, #228B22)' : 'transparent',
                                        color: currentView === item.id ? '#000' : '#ffd700',
                                        border: currentView === item.id ? '2px solid #ffd700' : '2px solid transparent',
                                        borderRadius: '12px',
                                        cursor: 'pointer',
                                        marginBottom: '12px',
                                        fontSize: '1.1rem',
                                        textAlign: 'left',
                                        fontWeight: currentView === item.id ? '900' : '700',
                                        transition: 'all 0.3s ease',
                                        textTransform: 'uppercase',
                                        letterSpacing: '0.5px',
                                        boxShadow: currentView === item.id ? '0 0 15px rgba(255, 215, 0, 0.3)' : 'none'
                                    }
                                }, item.label)
                            )
                        )
                    );

                    // Dashboard
                    const DashboardPage = () => {
                        const meusChecklists = checklists.filter(c => c.autorId === currentUser?.id);
                        const minhasAuditorias = auditorias.filter(a => a.autorId === currentUser?.id);
                        const meusPendentes = [...checklists, ...auditorias].filter(item => 
                            item.status === 'aguardando_aprovacao' && item.autorId === currentUser?.id
                        );
                        
                        const meusAprovados = [...checklists, ...auditorias].filter(item => 
                            (item.status === 'aprovado' || item.status === 'aprovada') && item.autorId === currentUser?.id
                        );
                        
                        const totalItens = meusChecklists.length + minhasAuditorias.length;
                        const taxaAprovacao = totalItens > 0 ? Math.round((meusAprovados.length / totalItens) * 100) : 0;

                        return h('div', { style: { minHeight: '100vh', background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%)' } },
                            h(Header),
                            h('div', { style: { display: 'flex' } },
                                h(Sidebar),
                                h('main', { style: { flex: 1, padding: '40px' } },
                                    h('h2', { 
                                        style: { 
                                            fontSize: '2.8rem', 
                                            fontWeight: '900', 
                                            background: 'linear-gradient(45deg, #ffd700, #fff)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent',
                                            backgroundClip: 'text',
                                            marginBottom: '40px',
                                            textShadow: '0 0 30px rgba(255, 215, 0, 0.5)',
                                            letterSpacing: '1px'
                                        } 
                                    }, `üéØ Dashboard`),
                                    
                                    // Cards de estat√≠sticas principais
                                    h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '30px', marginBottom: '40px' } },
                                        h('div', { style: { background: 'linear-gradient(135deg, #ffd700, #228B22)', color: '#000', padding: '32px', borderRadius: '20px', position: 'relative', overflow: 'hidden', border: '3px solid #ffd700', boxShadow: '0 0 40px rgba(255, 215, 0, 0.4)' } },
                                            h('div', { style: { position: 'absolute', top: '-30px', right: '-30px', fontSize: '10rem', opacity: 0.1 } }, '‚úÖ'),
                                            h('div', { style: { fontSize: '4rem', marginBottom: '16px' } }, '‚úÖ'),
                                            h('h3', { style: { fontSize: '1.4rem', marginBottom: '12px', opacity: 0.95, fontWeight: '700' } }, 'Meus Checklists'),
                                            h('p', { style: { fontSize: '3.5rem', fontWeight: '900', margin: '0 0 12px 0' } }, meusChecklists.length),
                                            h('div', { style: { display: 'flex', alignItems: 'center', gap: '8px', opacity: 0.9 } },
                                                h('span', { style: { fontSize: '1rem', fontWeight: '600' } }, 
                                                    `${meusChecklists.filter(c => c.status === 'aprovado').length} aprovados ‚Ä¢ ${meusChecklists.filter(c => c.status === 'aguardando_aprovacao').length} pendentes`
                                                )
                                            )
                                        ),
                                        h('div', { style: { background: 'linear-gradient(135deg, #228B22, #ffd700)', color: '#000', padding: '32px', borderRadius: '20px', position: 'relative', overflow: 'hidden', border: '3px solid #228B22', boxShadow: '0 0 40px rgba(34, 139, 34, 0.4)' } },
                                            h('div', { style: { position: 'absolute', top: '-30px', right: '-30px', fontSize: '10rem', opacity: 0.1 } }, 'üîç'),
                                            h('div', { style: { fontSize: '4rem', marginBottom: '16px' } }, 'üîç'),
                                            h('h3', { style: { fontSize: '1.4rem', marginBottom: '12px', opacity: 0.95, fontWeight: '700' } }, 'Minhas Auditorias'),
                                            h('p', { style: { fontSize: '3.5rem', fontWeight: '900', margin: '0 0 12px 0' } }, minhasAuditorias.length),
                                            h('div', { style: { display: 'flex', alignItems: 'center', gap: '8px', opacity: 0.9 } },
                                                h('span', { style: { fontSize: '1rem', fontWeight: '600' } }, 
                                                    `${minhasAuditorias.filter(a => a.status === 'aprovada').length} aprovadas ‚Ä¢ ${minhasAuditorias.filter(a => a.status === 'aguardando_aprovacao').length} pendentes`
                                                )
                                            )
                                        ),
                                        h('div', { style: { background: 'linear-gradient(135deg, #ffffff, #ffd700)', color: '#000', padding: '32px', borderRadius: '20px', position: 'relative', overflow: 'hidden', border: '3px solid #fff', boxShadow: '0 0 40px rgba(255, 255, 255, 0.4)' } },
                                            h('div', { style: { position: 'absolute', top: '-30px', right: '-30px', fontSize: '10rem', opacity: 0.1 } }, '‚è≥'),
                                            h('div', { style: { fontSize: '4rem', marginBottom: '16px' } }, '‚è≥'),
                                            h('h3', { style: { fontSize: '1.4rem', marginBottom: '12px', opacity: 0.95, fontWeight: '700' } }, 'Aguardando Aprova√ß√£o'),
                                            h('p', { style: { fontSize: '3.5rem', fontWeight: '900', margin: '0 0 12px 0' } }, meusPendentes.length),
                                            h('div', { style: { display: 'flex', alignItems: 'center', gap: '8px', opacity: 0.9 } },
                                                h('span', { style: { fontSize: '1rem', fontWeight: '600' } }, 
                                                    meusPendentes.length > 0 ? 'Aguarde a revis√£o' : 'Tudo aprovado! üéâ'
                                                )
                                            )
                                        ),
                                        h('div', { style: { background: 'linear-gradient(135deg, #ffd700, #ffffff)', color: '#000', padding: '32px', borderRadius: '20px', position: 'relative', overflow: 'hidden', border: '3px solid #ffd700', boxShadow: '0 0 40px rgba(255, 215, 0, 0.4)' } },
                                            h('div', { style: { position: 'absolute', top: '-30px', right: '-30px', fontSize: '10rem', opacity: 0.1 } }, 'üìä'),
                                            h('div', { style: { fontSize: '4rem', marginBottom: '16px' } }, 'üìä'),
                                            h('h3', { style: { fontSize: '1.4rem', marginBottom: '12px', opacity: 0.95, fontWeight: '700' } }, 'Taxa de Aprova√ß√£o'),
                                            h('p', { style: { fontSize: '3.5rem', fontWeight: '900', margin: '0 0 12px 0' } }, `${taxaAprovacao}%`),
                                            h('div', { style: { display: 'flex', alignItems: 'center', gap: '8px', opacity: 0.9 } },
                                                h('span', { style: { fontSize: '1rem', fontWeight: '600' } }, 
                                                    `${meusAprovados.length} de ${totalItens} aprovados`
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        );
                    };

                    // P√°gina de Checklist
                    const ChecklistPage = () => {
                        const [novoChecklist, setNovoChecklist] = useState({
                            id: '', servidor: '', funcionario: '', observacao: '', aprovador: '',
                            // Perguntas Staff
                            pontualidade: '', organizacao: '', comunicacao: '', relacionamento: '', conhecimento: '', dedicacao: '', lideranca: '', resolucao: '', iniciativa: '', etica: '',
                            // Perguntas RP
                            interpretacao: '', criatividade: '', adaptacao: '', consistencia: '', interacao: '', narrativa: '', emocional: '', improvisacao: '', imersao: '', conflito: ''
                        });
                        const [mostrarFormulario, setMostrarFormulario] = useState(false);
                        const [tipoChecklist, setTipoChecklist] = useState('staff');
                        const [orgRPChecklist, setOrgRPChecklist] = useState('igreja');

                        const perguntasStaff = [
                            { key: 'pontualidade', label: 'Pontualidade', max: 10 },
                            { key: 'organizacao', label: 'Organiza√ß√£o', max: 10 },
                            { key: 'comunicacao', label: 'Comunica√ß√£o', max: 10 },
                            { key: 'relacionamento', label: 'Relacionamento Interpessoal', max: 10 },
                            { key: 'conhecimento', label: 'Conhecimento T√©cnico', max: 10 },
                            { key: 'dedicacao', label: 'Dedica√ß√£o e Comprometimento', max: 10 },
                            { key: 'lideranca', label: 'Lideran√ßa', max: 10 },
                            { key: 'resolucao', label: 'Resolu√ß√£o de Problemas', max: 10 },
                            { key: 'iniciativa', label: 'Iniciativa', max: 10 },
                            { key: 'etica', label: '√âtica Profissional', max: 10 },
                            { key: 'membrosOnline', label: 'Quantidade de Membros Online no Painel', max: 10 }
                        ];

                        const perguntasRP = [
                            { key: 'interpretacao', label: 'Interpreta√ß√£o de Personagem', max: 10 },
                            { key: 'criatividade', label: 'Criatividade nas A√ß√µes', max: 10 },
                            { key: 'adaptacao', label: 'Adapta√ß√£o a Situa√ß√µes', max: 10 },
                            { key: 'consistencia', label: 'Consist√™ncia no RP', max: 10 },
                            { key: 'interacao', label: 'Intera√ß√£o com Outros', max: 10 },
                            { key: 'narrativa', label: 'Constru√ß√£o de Narrativa', max: 10 },
                            { key: 'emocional', label: 'Express√£o Emocional', max: 10 },
                            { key: 'improvisacao', label: 'Capacidade de Improviso', max: 10 },
                            { key: 'imersao', label: 'Imers√£o no Ambiente', max: 10 },
                            { key: 'conflito', label: 'Gest√£o de Conflitos RP', max: 10 }
                        ];

                        const calcularNotaTotal = () => {
                            const perguntas = tipoChecklist === 'staff' ? perguntasStaff : perguntasRP;
                            let total = 0;
                            perguntas.forEach(p => {
                                const valor = parseFloat(novoChecklist[p.key]) || 0;
                                total += valor;
                            });
                            return total;
                        };

                        const handleSubmitChecklist = (e) => {
                            e.preventDefault();
                            
                            if (!novoChecklist.id || !novoChecklist.servidor || !novoChecklist.funcionario) {
                                alert('‚ö†Ô∏è Preencha todos os campos obrigat√≥rios!');
                                return;
                            }

                            const perguntas = tipoChecklist === 'staff' ? perguntasStaff : perguntasRP;
                            const todasRespondidas = perguntas.every(p => novoChecklist[p.key] && parseFloat(novoChecklist[p.key]) >= 0);
                            
                            if (!todasRespondidas) {
                                alert('‚ö†Ô∏è Responda todas as perguntas do checklist!');
                                return;
                            }

                            const notaTotal = calcularNotaTotal();

                            const checklist = {
                                ...novoChecklist,
                                autorId: currentUser.id,
                                autorNome: currentUser.nome,
                                autorCargo: currentUser.cargo,
                                tipo: tipoChecklist,
                                orgRP: tipoChecklist === 'rp' ? orgRPChecklist : null,
                                nota: notaTotal,
                                notaMaxima: 100,
                                status: 'aguardando_aprovacao',
                                createdAt: new Date().toISOString(),
                                type: 'checklist'
                            };

                            setChecklists([...checklists, checklist]);
                            setNovoChecklist({
                                id: '', servidor: '', funcionario: '', observacao: '', aprovador: '',
                                pontualidade: '', organizacao: '', comunicacao: '', relacionamento: '', conhecimento: '', dedicacao: '', lideranca: '', resolucao: '', iniciativa: '', etica: '',
                                interpretacao: '', criatividade: '', adaptacao: '', consistencia: '', interacao: '', narrativa: '', emocional: '', improvisacao: '', imersao: '', conflito: ''
                            });
                            setMostrarFormulario(false);
                            alert('‚úÖ Checklist criado e enviado para aprova√ß√£o!');
                        };

                        const meusChecklists = checklists.filter(c => c.autorId === currentUser.id);

                        return h('div', { style: { minHeight: '100vh', background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%)' } },
                            h(Header),
                            h('div', { style: { display: 'flex' } },
                                h(Sidebar),
                                h('main', { style: { flex: 1, padding: '40px' } },
                                    h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '40px' } },
                                        h('h2', { 
                                            style: { 
                                                fontSize: '2.8rem', 
                                                fontWeight: '900', 
                                                background: 'linear-gradient(45deg, #ffd700, #fff)',
                                                WebkitBackgroundClip: 'text',
                                                WebkitTextFillColor: 'transparent',
                                                backgroundClip: 'text',
                                                margin: 0,
                                                textShadow: '0 0 30px rgba(255, 215, 0, 0.5)'
                                            } 
                                        }, '‚úÖ Sistema de Checklist'),
                                        h('button', {
                                            onClick: () => setMostrarFormulario(!mostrarFormulario),
                                            style: {
                                                background: 'linear-gradient(45deg, #ffd700, #228B22)',
                                                color: '#000',
                                                padding: '16px 32px',
                                                border: '3px solid #ffd700',
                                                borderRadius: '15px',
                                                cursor: 'pointer',
                                                fontWeight: '900',
                                                fontSize: '1.1rem',
                                                textTransform: 'uppercase',
                                                boxShadow: '0 0 25px rgba(255, 215, 0, 0.5)'
                                            }
                                        }, mostrarFormulario ? '‚ùå Cancelar' : '‚ûï Novo Checklist')
                                    ),

                                    // Formul√°rio de Checklist
                                    mostrarFormulario && h('div', {
                                        style: {
                                            background: 'rgba(0,0,0,0.8)',
                                            backdropFilter: 'blur(10px)',
                                            border: '3px solid #ffd700',
                                            borderRadius: '20px',
                                            padding: '40px',
                                            marginBottom: '40px',
                                            boxShadow: '0 0 40px rgba(255, 215, 0, 0.4)'
                                        }
                                    },
                                        h('h3', { 
                                            style: { 
                                                color: '#ffd700', 
                                                fontSize: '1.8rem', 
                                                marginBottom: '30px', 
                                                fontWeight: '800',
                                                textShadow: '0 0 15px rgba(255, 215, 0, 0.5)'
                                            } 
                                        }, 'üìù Criar Novo Checklist'),
                                        h('form', { onSubmit: handleSubmitChecklist },
                                            // Seletor de tipo de checklist
                                            h('div', { style: { marginBottom: '30px' } },
                                                h('label', { 
                                                    style: { 
                                                        display: 'block', 
                                                        color: '#ffd700', 
                                                        marginBottom: '10px', 
                                                        fontWeight: '700',
                                                        fontSize: '1.2rem'
                                                    } 
                                                }, 'Tipo de Checklist'),
                                                h('div', { style: { display: 'flex', gap: '20px', marginBottom: '20px' } },
                                                    ['staff', 'rp'].map(tipo =>
                                                        h('label', {
                                                            key: tipo,
                                                            style: {
                                                                display: 'flex',
                                                                alignItems: 'center',
                                                                gap: '8px',
                                                                color: '#fff',
                                                                cursor: 'pointer',
                                                                fontSize: '1.1rem',
                                                                fontWeight: '600'
                                                            }
                                                        },
                                                            h('input', {
                                                                type: 'radio',
                                                                name: 'tipoChecklist',
                                                                value: tipo,
                                                                checked: tipoChecklist === tipo,
                                                                onChange: (e) => setTipoChecklist(e.target.value),
                                                                style: { transform: 'scale(1.2)' }
                                                            }),
                                                            tipo === 'staff' ? 'üë§ Staff' : 'üé≠ RP'
                                                        )
                                                    )
                                                ),
                                                // Seletor de organiza√ß√£o do RP
                                                tipoChecklist === 'rp' && h('div', null,
                                                    h('label', { 
                                                        style: { 
                                                            display: 'block', 
                                                            color: '#DC143C', 
                                                            marginBottom: '10px', 
                                                            fontWeight: '700',
                                                            fontSize: '1.1rem'
                                                        } 
                                                    }, 'Organiza√ß√£o RP'),
                                                    h('select', {
                                                        value: orgRPChecklist,
                                                        onChange: (e) => setOrgRPChecklist(e.target.value),
                                                        style: {
                                                            width: '300px',
                                                            padding: '12px',
                                                            border: '2px solid #DC143C',
                                                            borderRadius: '10px',
                                                            background: 'rgba(0,0,0,0.7)',
                                                            color: '#fff',
                                                            fontSize: '16px',
                                                            fontWeight: '500'
                                                        }
                                                    },
                                                        h('option', { value: 'igreja' }, 'IGREJA'),
                                                        h('option', { value: 'jornal' }, 'JORNAL'),
                                                        h('option', { value: 'juridico' }, 'JUR√çDICO'),
                                                        h('option', { value: 'bombeiros' }, 'BOMBEIROS'),
                                                        h('option', { value: 'hospital' }, 'HOSPITAL'),
                                                        h('option', { value: 'mecanica' }, 'MEC√ÇNICA'),
                                                        h('option', { value: 'policia' }, 'POL√çCIA'),
                                                        h('option', { value: 'prefeitura' }, 'PREFEITURA'),
                                                        h('option', { value: 'gestao_politica' }, 'GEST√ÉO POL√çTICA'),
                                                        h('option', { value: 'eleicoes' }, 'ELEI√á√ïES')
                                                    )
                                                )
                                            ),
                                            // Campos b√°sicos
                                            h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '25px', marginBottom: '30px' } },
                                                ['id', 'servidor', 'funcionario'].map(field => 
                                                    h('div', { key: field },
                                                        h('label', { 
                                                            style: { 
                                                                display: 'block', 
                                                                color: '#ffd700', 
                                                                marginBottom: '10px', 
                                                                fontWeight: '700',
                                                                fontSize: '1.1rem'
                                                            } 
                                                        }, field === 'id' ? 'ID Staff' : field.charAt(0).toUpperCase() + field.slice(1)),
                                                        h('input', {
                                                            type: 'text',
                                                            value: novoChecklist[field],
                                                            onChange: (e) => setNovoChecklist({ ...novoChecklist, [field]: e.target.value }),
                                                            placeholder: `Digite ${field}`,
                                                            style: {
                                                                width: '100%',
                                                                padding: '16px',
                                                                border: '2px solid #ffd700',
                                                                borderRadius: '12px',
                                                                background: 'rgba(0,0,0,0.7)',
                                                                color: '#fff',
                                                                fontSize: '16px',
                                                                fontWeight: '500'
                                                            },
                                                            required: true
                                                        })
                                                    )
                                                )
                                            ),
                                            // Perguntas espec√≠ficas
                                            h('div', { style: { marginBottom: '30px' } },
                                                h('h4', { 
                                                    style: { 
                                                        color: '#ffd700', 
                                                        fontSize: '1.3rem', 
                                                        marginBottom: '20px',
                                                        fontWeight: '700'
                                                    } 
                                                }, `Perguntas ${tipoChecklist === 'staff' ? 'Staff' : `RP - ${orgRPChecklist.toUpperCase()}`} (Nota 0-10 cada)`),
                                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '20px' } },
                                                    (tipoChecklist === 'staff' ? perguntasStaff : perguntasRP).map(pergunta =>
                                                        h('div', { key: pergunta.key },
                                                            h('label', { 
                                                                style: { 
                                                                    display: 'block', 
                                                                    color: '#fff', 
                                                                    marginBottom: '8px', 
                                                                    fontWeight: '600'
                                                                } 
                                                            }, `${pergunta.label} (0-${pergunta.max})`),
                                                            h('input', {
                                                                type: 'number',
                                                                value: novoChecklist[pergunta.key],
                                                                onChange: (e) => setNovoChecklist({ ...novoChecklist, [pergunta.key]: e.target.value }),
                                                                placeholder: `0-${pergunta.max}`,
                                                                style: {
                                                                    width: '100%',
                                                                    padding: '12px',
                                                                    border: '2px solid #228B22',
                                                                    borderRadius: '8px',
                                                                    background: 'rgba(0,0,0,0.7)',
                                                                    color: '#fff',
                                                                    fontSize: '16px',
                                                                    fontWeight: '500'
                                                                },
                                                                min: '0',
                                                                max: pergunta.max.toString(),
                                                                step: '0.5',
                                                                required: true
                                                            })
                                                        )
                                                    )
                                                )
                                            ),
                                            // Nota total calculada
                                            h('div', { 
                                                style: { 
                                                    background: 'rgba(255, 215, 0, 0.1)', 
                                                    border: '2px solid #ffd700', 
                                                    borderRadius: '12px', 
                                                    padding: '20px', 
                                                    marginBottom: '25px',
                                                    textAlign: 'center'
                                                } 
                                            },
                                                h('h4', { 
                                                    style: { 
                                                        color: '#ffd700', 
                                                        fontSize: '1.4rem', 
                                                        margin: 0,
                                                        fontWeight: '800'
                                                    } 
                                                }, `Nota Total: ${calcularNotaTotal()}/100`)
                                            ),
                                            h('div', { style: { marginBottom: '25px' } },
                                                h('label', { 
                                                    style: { 
                                                        display: 'block', 
                                                        color: '#ffd700', 
                                                        marginBottom: '10px', 
                                                        fontWeight: '700',
                                                        fontSize: '1.1rem'
                                                    } 
                                                }, 'Observa√ß√£o'),
                                                h('textarea', {
                                                    value: novoChecklist.observacao,
                                                    onChange: (e) => setNovoChecklist({ ...novoChecklist, observacao: e.target.value }),
                                                    placeholder: 'Observa√ß√µes adicionais...',
                                                    style: {
                                                        width: '100%',
                                                        padding: '16px',
                                                        border: '2px solid #ffd700',
                                                        borderRadius: '12px',
                                                        background: 'rgba(0,0,0,0.7)',
                                                        color: '#fff',
                                                        fontSize: '16px',
                                                        fontWeight: '500',
                                                        minHeight: '120px',
                                                        resize: 'vertical'
                                                    }
                                                })
                                            ),
                                            h('div', { style: { display: 'flex', gap: '20px' } },
                                                h('button', {
                                                    type: 'submit',
                                                    style: {
                                                        flex: 1,
                                                        background: 'linear-gradient(45deg, #228B22, #ffd700)',
                                                        color: '#000',
                                                        padding: '16px',
                                                        border: '2px solid #228B22',
                                                        borderRadius: '12px',
                                                        cursor: 'pointer',
                                                        fontWeight: '900',
                                                        fontSize: '1.1rem',
                                                        textTransform: 'uppercase'
                                                    }
                                                }, '‚úÖ Criar Checklist'),
                                                h('button', {
                                                    type: 'button',
                                                    onClick: () => setMostrarFormulario(false),
                                                    style: {
                                                        background: 'transparent',
                                                        color: '#ffd700',
                                                        padding: '16px 32px',
                                                        border: '2px solid #ffd700',
                                                        borderRadius: '12px',
                                                        cursor: 'pointer',
                                                        fontWeight: '700',
                                                        fontSize: '1.1rem'
                                                    }
                                                }, 'Cancelar')
                                            )
                                        )
                                    ),

                                    // Lista de Checklists
                                    h('div', { style: { display: 'grid', gap: '25px' } },
                                        meusChecklists.length > 0 ? meusChecklists.map((checklist, index) =>
                                            h('div', {
                                                key: index,
                                                style: {
                                                    background: checklist.status === 'aprovado' 
                                                        ? 'linear-gradient(135deg, rgba(34, 139, 34, 0.2), rgba(255, 215, 0, 0.1))'
                                                        : checklist.status === 'reprovado'
                                                        ? 'linear-gradient(135deg, rgba(220, 20, 60, 0.2), rgba(255, 0, 0, 0.1))'
                                                        : 'linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(0, 0, 0, 0.3))',
                                                    backdropFilter: 'blur(10px)',
                                                    border: `3px solid ${checklist.status === 'aprovado' ? '#228B22' : checklist.status === 'reprovado' ? '#DC143C' : '#ffd700'}`,
                                                    borderRadius: '20px',
                                                    padding: '30px',
                                                    boxShadow: checklist.status === 'aprovado' 
                                                        ? '0 0 30px rgba(34, 139, 34, 0.4)'
                                                        : checklist.status === 'reprovado'
                                                        ? '0 0 30px rgba(220, 20, 60, 0.4)'
                                                        : '0 0 30px rgba(255, 215, 0, 0.4)'
                                                }
                                            },
                                                h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '20px' } },
                                                    h('h4', { 
                                                        style: { 
                                                            color: '#ffd700', 
                                                            fontSize: '1.5rem', 
                                                            margin: 0, 
                                                            fontWeight: '800'
                                                        } 
                                                    }, `Checklist #${checklist.id}`),
                                                    h('span', {
                                                        style: {
                                                            background: checklist.status === 'aprovado' 
                                                                ? 'linear-gradient(45deg, #228B22, #32CD32)'
                                                                : checklist.status === 'reprovado'
                                                                ? 'linear-gradient(45deg, #DC143C, #FF6347)'
                                                                : 'linear-gradient(45deg, #ffd700, #FFA500)',
                                                            color: '#000',
                                                            padding: '8px 16px',
                                                            borderRadius: '20px',
                                                            fontWeight: '700',
                                                            fontSize: '0.9rem',
                                                            textTransform: 'uppercase'
                                                        }
                                                    }, 
                                                    checklist.status === 'aprovado' ? '‚úÖ Aprovado' 
                                                        : checklist.status === 'reprovado' ? '‚ùå Reprovado'
                                                        : '‚è≥ Aguardando'
                                                    )
                                                ),
                                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px', color: '#fff' } },
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Servidor: '), checklist.servidor),
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Funcion√°rio: '), checklist.funcionario),
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Tipo: '), checklist.tipo === 'staff' ? 'Staff' : `RP - ${checklist.orgRP?.toUpperCase() || 'Geral'}`),
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Nota: '), `${checklist.nota}/100`),
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Data: '), new Date(checklist.createdAt).toLocaleDateString('pt-BR'))
                                                ),
                                                checklist.observacao && h('div', { style: { marginTop: '15px', padding: '15px', background: 'rgba(0,0,0,0.3)', borderRadius: '10px' } },
                                                    h('strong', { style: { color: '#ffd700' } }, 'Observa√ß√£o: '),
                                                    h('span', { style: { color: '#fff' } }, checklist.observacao)
                                                )
                                            )
                                        ) : h('div', {
                                            style: {
                                                textAlign: 'center',
                                                padding: '60px',
                                                background: 'rgba(0,0,0,0.3)',
                                                borderRadius: '20px',
                                                border: '2px dashed #ffd700'
                                            }
                                        },
                                            h('p', { 
                                                style: { 
                                                    color: '#ffd700', 
                                                    fontSize: '1.5rem', 
                                                    margin: 0, 
                                                    fontWeight: '700'
                                                } 
                                            }, 'üìã Nenhum checklist criado ainda')
                                        )
                                    )
                                )
                            )
                        );
                    };

                    // P√°gina de Auditoria
                    const AuditoriaPage = () => {
                        const [novaAuditoria, setNovaAuditoria] = useState({
                            id: '', servidor: '', funcionario: '', observacao: '', aprovador: '',
                            // Perguntas Gerais
                            conhecimentoRegras: '', aplicacaoRegras: '', postura: '', comunicacaoEquipe: '', resolucaoConflitos: '', eticaProfissional: '', disponibilidade: '', pontualidade: '', organizacao: '', proatividade: '',
                            // Perguntas Staff espec√≠ficas
                            lideranca: '', mentoria: '', gestaoEquipe: '', tomadaDecisao: '', planificacao: '', delegacao: '', motivacao: '', feedbacks: '', resolucaoProblemas: '', visaoEstrategica: '',
                            // Perguntas RP espec√≠ficas
                            interpretacao: '', criatividade: '', adaptacao: '', consistencia: '', narrativa: '', expressaoEmocional: '', improvisacao: '', imersao: '', gestaoConflitosRP: '', construcaoPersonagem: ''
                        });
                        const [mostrarFormulario, setMostrarFormulario] = useState(false);
                        const [tipoAuditoria, setTipoAuditoria] = useState('staff');
                        const [pastaStaff, setPastaStaff] = useState('social_midia');
                        const [orgRP, setOrgRP] = useState('igreja');

                        const perguntasGerais = [
                            { key: 'conhecimentoRegras', label: 'Conhecimento das Regras', max: 10 },
                            { key: 'aplicacaoRegras', label: 'Aplica√ß√£o das Regras', max: 10 },
                            { key: 'postura', label: 'Postura Profissional', max: 10 },
                            { key: 'comunicacaoEquipe', label: 'Comunica√ß√£o com Equipe', max: 10 },
                            { key: 'resolucaoConflitos', label: 'Resolu√ß√£o de Conflitos', max: 10 },
                            { key: 'eticaProfissional', label: '√âtica Profissional', max: 10 },
                            { key: 'disponibilidade', label: 'Disponibilidade', max: 10 },
                            { key: 'pontualidade', label: 'Pontualidade', max: 10 },
                            { key: 'organizacao', label: 'Organiza√ß√£o', max: 10 },
                            { key: 'proatividade', label: 'Proatividade', max: 10 }
                        ];

                        const obterPerguntasEspecificas = () => {
                            if (tipoAuditoria === 'rp') {
                                // Perguntas espec√≠ficas por organiza√ß√£o RP
                                const perguntasRPEspecificas = {
                                    igreja: [
                                        { key: 'frequenciaEventos', label: 'A frequ√™ncia de eventos religiosos est√° regular e de acordo com o calend√°rio?', max: 10 },
                                        { key: 'participacaoComunidade', label: 'H√° participa√ß√£o da comunidade nas atividades?', max: 10 },
                                        { key: 'estruturaTemplo', label: 'A estrutura e manuten√ß√£o do templo est√£o adequadas?', max: 10 },
                                        { key: 'liderReligioso', label: 'O l√≠der religioso est√° cumprindo com as obriga√ß√µes previstas?', max: 10 }
                                    ],
                                    jornal: [
                                        { key: 'publicacaoRegular', label: 'As mat√©rias est√£o sendo publicadas com regularidade?', max: 10 },
                                        { key: 'imparcialidadeReportagens', label: 'H√° imparcialidade e clareza nas reportagens?', max: 10 },
                                        { key: 'equipeAtiva', label: 'A equipe do jornal est√° ativa e completa?', max: 10 },
                                        { key: 'pautasAlinhadas', label: 'As pautas est√£o alinhadas com os acontecimentos do RP?', max: 10 }
                                    ],
                                    juridico: [
                                        { key: 'processosJulgados', label: 'Os processos est√£o sendo julgados dentro do prazo?', max: 10 },
                                        { key: 'corpoJuridico', label: 'O corpo jur√≠dico est√° completo e atuante?', max: 10 },
                                        { key: 'casosPendentes', label: 'H√° registro de casos pendentes n√£o justificados?', max: 10 },
                                        { key: 'atendimentoEficiente', label: 'O atendimento √† popula√ß√£o est√° sendo eficiente?', max: 10 }
                                    ],
                                    bombeiros: [
                                        { key: 'tempoResposta', label: 'O tempo de resposta a chamados est√° dentro do esperado?', max: 10 },
                                        { key: 'efetivoCompleto', label: 'O efetivo est√° completo e treinado?', max: 10 },
                                        { key: 'equipamentosAdequados', label: 'O uso de equipamentos est√° adequado e em boas condi√ß√µes?', max: 10 },
                                        { key: 'procedimentosResgate', label: 'Os procedimentos de resgate est√£o sendo cumpridos corretamente?', max: 10 }
                                    ],
                                    hospital: [
                                        { key: 'numeroSuficiente', label: 'H√° n√∫mero suficiente de m√©dicos e enfermeiros em cada turno?', max: 10 },
                                        { key: 'atendimentoAgil', label: 'Os atendimentos est√£o sendo feitos de forma √°gil e eficiente?', max: 10 },
                                        { key: 'equipamentoEstoque', label: 'Os equipamentos e medicamentos est√£o em estoque?', max: 10 },
                                        { key: 'pacientesNaoAtendidos', label: 'H√° registro de pacientes n√£o atendidos por falta de equipe?', max: 10 }
                                    ],
                                    mecanica: [
                                        { key: 'equipeSuficiente', label: 'A mec√¢nica est√° com equipe suficiente para a demanda?', max: 10 },
                                        { key: 'tempoConserto', label: 'O tempo m√©dio de conserto/manuten√ß√£o est√° dentro do esperado?', max: 10 },
                                        { key: 'atendimentoCordial', label: 'O atendimento ao p√∫blico √© cordial e eficiente?', max: 10 },
                                        { key: 'problemasEstoque', label: 'H√° problemas de estoque ou pe√ßas em falta?', max: 10 }
                                    ],
                                    policia: [
                                        { key: 'efetivoPolicial', label: 'O efetivo policial est√° completo e treinado?', max: 10 },
                                        { key: 'patrulhamentoRegular', label: 'O patrulhamento est√° sendo realizado regularmente?', max: 10 },
                                        { key: 'ocorrenciasRegistradas', label: 'As ocorr√™ncias est√£o sendo registradas e respondidas em tempo h√°bil?', max: 10 },
                                        { key: 'armamentoViaturas', label: 'O armamento e viaturas est√£o em boas condi√ß√µes?', max: 10 }
                                    ],
                                    prefeitura: [
                                        { key: 'departamentosFuncionando', label: 'A prefeitura est√° com todos os departamentos funcionando?', max: 10 },
                                        { key: 'servicosMunicipais', label: 'Os servi√ßos municipais est√£o sendo prestados com qualidade?', max: 10 },
                                        { key: 'transparenciaGestao', label: 'H√° transpar√™ncia na gest√£o e uso de recursos?', max: 10 },
                                        { key: 'planejamentoMelhorias', label: 'Existe planejamento para melhorias na cidade?', max: 10 },
                                        { key: 'canaisComunicacao', label: 'Os canais de comunica√ß√£o com a popula√ß√£o est√£o ativos?', max: 10 }
                                    ],
                                    gestao_politica: [
                                        { key: 'atuacaoPrefeito', label: 'Prefeito: Como est√° a atua√ß√£o e aprova√ß√£o da gest√£o?', max: 10 },
                                        { key: 'atuacaoGovernador', label: 'Governador: Como est√° a atua√ß√£o e aprova√ß√£o da gest√£o?', max: 10 },
                                        { key: 'atuacaoPresidente', label: 'Presidente (inativo, mas registrar): Como est√° a atua√ß√£o e aprova√ß√£o da gest√£o?', max: 10 }
                                    ],
                                    eleicoes: [
                                        { key: 'campanhasAtivas', label: 'H√° campanhas ativas para os cargos pol√≠ticos?', max: 10 },
                                        { key: 'processoTransparente', label: 'O processo eleitoral est√° ocorrendo de forma transparente?', max: 10 },
                                        { key: 'divulgacaoEleicoes', label: 'A divulga√ß√£o das elei√ß√µes est√° sendo feita adequadamente?', max: 10 }
                                    ]
                                };
                                return perguntasRPEspecificas[orgRP] || [];
                            }
                            
                            // Para staff, retorna perguntas espec√≠ficas por √°rea
                            const perguntasStaffEspecificas = {
                                social_midia: [
                                    { key: 'postagensRegularidade', label: 'As postagens est√£o sendo feitas com regularidade?', max: 10 },
                                    { key: 'comunicacaoVisual', label: 'A comunica√ß√£o visual segue o padr√£o da identidade?', max: 10 },
                                    { key: 'campanhasPublico', label: 'As campanhas est√£o alcan√ßando o p√∫blico-alvo?', max: 10 },
                                    { key: 'engajamentoSatisfatorio', label: 'O engajamento est√° satisfat√≥rio?', max: 10 }
                                ],
                                equipe_rec: [
                                    { key: 'processosSelecao', label: 'Os processos seletivos est√£o ocorrendo regularmente?', max: 10 },
                                    { key: 'criteriosClaros', label: 'H√° crit√©rios claros para aprova√ß√£o?', max: 10 },
                                    { key: 'novosMembros', label: 'O n√∫mero de novos membros est√° atendendo √† demanda?', max: 10 }
                                ],
                                equipe_anti_hack: [
                                    { key: 'monitoramentoAtivo', label: 'O monitoramento contra trapa√ßas est√° ativo?', max: 10 },
                                    { key: 'deteccaoCasos', label: 'Houve detec√ß√£o de casos recentes?', max: 10 },
                                    { key: 'punicoesAplicadas', label: 'As puni√ß√µes est√£o sendo aplicadas corretamente?', max: 10 }
                                ],
                                resp_acoes: [
                                    { key: 'acoesRegistradas', label: 'As a√ß√µes est√£o sendo registradas e documentadas?', max: 10 },
                                    { key: 'acompanhamentoRegistros', label: 'O acompanhamento dos registros est√° em dia?', max: 10 },
                                    { key: 'falhasAtrasos', label: 'H√° falhas ou atrasos na execu√ß√£o?', max: 10 }
                                ],
                                equipe_eventos: [
                                    { key: 'eventosCalendario', label: 'Os eventos est√£o sendo realizados conforme o calend√°rio?', max: 10 },
                                    { key: 'participacaoPublico', label: 'A participa√ß√£o do p√∫blico √© satisfat√≥ria?', max: 10 },
                                    { key: 'recursosAdequados', label: 'Os recursos para eventos est√£o adequados?', max: 10 }
                                ],
                                equipe_wall_street: [
                                    { key: 'gerenciamentoTransacoes', label: 'O gerenciamento de transa√ß√µes est√° correto?', max: 10 },
                                    { key: 'transparenciaRelatorios', label: 'H√° transpar√™ncia nos relat√≥rios financeiros?', max: 10 },
                                    { key: 'controleFluxos', label: 'O controle de fluxos econ√¥micos est√° sendo feito?', max: 10 }
                                ],
                                atendimento: [
                                    { key: 'tempoResposta', label: 'O tempo de resposta est√° dentro do padr√£o?', max: 10 },
                                    { key: 'atendimentosResolucao', label: 'Os atendimentos est√£o resolvendo as solicita√ß√µes?', max: 10 },
                                    { key: 'registrosCompletos', label: 'Os registros de chamados est√£o completos?', max: 10 }
                                ],
                                equipe_comercial: [
                                    { key: 'metasVendas', label: 'As metas de vendas est√£o sendo atingidas?', max: 10 },
                                    { key: 'comunicacaoClientes', label: 'A comunica√ß√£o com clientes est√° adequada?', max: 10 },
                                    { key: 'estrategiasCaptacao', label: 'H√° estrat√©gias ativas de capta√ß√£o?', max: 10 }
                                ],
                                equipe_orgs: [
                                    { key: 'monitoramentoOrgsIlegais', label: 'O monitoramento de organiza√ß√µes ilegais est√° ativo?', max: 10 },
                                    { key: 'acoesFiscalizacao', label: 'As a√ß√µes de fiscaliza√ß√£o est√£o ocorrendo?', max: 10 },
                                    { key: 'relatoriosAtividades', label: 'Os relat√≥rios sobre atividades ilegais est√£o completos?', max: 10 }
                                ],
                                mentoria: [
                                    { key: 'novosAcompanhados', label: 'Os novos membros est√£o sendo acompanhados?', max: 10 },
                                    { key: 'conteudoAtualizado', label: 'O conte√∫do de treinamento est√° atualizado?', max: 10 },
                                    { key: 'indiceConclusao', label: 'O √≠ndice de conclus√£o do treinamento √© satisfat√≥rio?', max: 10 }
                                ],
                                resp_comunidade: [
                                    { key: 'interacoesFrequentes', label: 'As intera√ß√µes com a comunidade est√£o frequentes?', max: 10 },
                                    { key: 'solicitacoesAtendidas', label: 'As solicita√ß√µes da comunidade est√£o sendo atendidas?', max: 10 },
                                    { key: 'reclamacoesNaoResolvidas', label: 'H√° registro de reclama√ß√µes n√£o resolvidas?', max: 10 }
                                ],
                                adm_staff: [
                                    { key: 'gestaoInternaOrganizada', label: 'A gest√£o interna est√° organizada?', max: 10 },
                                    { key: 'tarefasCumpridas', label: 'As tarefas est√£o sendo cumpridas no prazo?', max: 10 },
                                    { key: 'comunicacaoInterna', label: 'A comunica√ß√£o interna est√° fluindo bem?', max: 10 }
                                ],
                                alta_cupula: [
                                    { key: 'decisoesEstrategicas', label: 'As decis√µes estrat√©gicas est√£o sendo tomadas de forma eficaz?', max: 10 },
                                    { key: 'supervisaoAdequada', label: 'H√° supervis√£o adequada de todos os setores?', max: 10 },
                                    { key: 'planejamentoLongoPrazo', label: 'Existe planejamento de longo prazo?', max: 10 }
                                ],
                                equipe_legal: [
                                    { key: 'cumprimentoNormas', label: 'Como a Equipe Legal tem garantido o cumprimento das normas internas e o alinhamento da equipe com os valores da cidade?', max: 10 },
                                    { key: 'monitoramentoIgreja', label: 'Quais procedimentos a equipe est√° utilizando para monitorar as atividades da igreja, garantindo que tudo esteja dentro das regras e sem abusos?', max: 10 },
                                    { key: 'fiscalizacaoEleicoes', label: 'De que forma a Equipe Legal tem participado do processo de organiza√ß√£o e fiscaliza√ß√£o das elei√ß√µes na cidade?', max: 10 },
                                    { key: 'validacaoPropostas', label: 'Existe algum mecanismo implementado para avaliar e validar as propostas de leis ou regras que influenciam o cen√°rio eleitoral?', max: 10 },
                                    { key: 'acompanhamentoLives', label: 'Como a equipe tem acompanhado as lives e streamings oficiais, principalmente no que se refere ao cumprimento das normas comerciais e de divulga√ß√£o?', max: 10 },
                                    { key: 'criteriosParcerias', label: 'Quais crit√©rios s√£o usados para a aprova√ß√£o de parcerias e contratos com empres√°rios da Let\'s Play?', max: 10 },
                                    { key: 'mediacaoConflitos', label: 'De que forma a Equipe Legal tem atuado na media√ß√£o de conflitos envolvendo streamers, empres√°rios e a administra√ß√£o da cidade?', max: 10 },
                                    { key: 'ferramentasMonitoramento', label: 'Quais ferramentas ou sistemas a equipe utiliza para monitorar e registrar poss√≠veis irregularidades em transmiss√µes ao vivo?', max: 10 },
                                    { key: 'comunicacaoIntersetores', label: 'Como √© feita a comunica√ß√£o interna entre a Equipe Legal e os demais setores (igreja, eleitoral, comercial) para garantir transpar√™ncia e efici√™ncia?', max: 10 },
                                    { key: 'desafiosMelhorias', label: 'Quais desafios a equipe tem enfrentado atualmente na fiscaliza√ß√£o das √°reas de responsabilidade e quais melhorias est√£o sendo planejadas?', max: 10 }
                                ]
                            };
                            return perguntasStaffEspecificas[pastaStaff] || [];
                        };

                        const calcularNotaTotal = () => {
                            let total = 0;
                            // Perguntas gerais (sempre inclu√≠das)
                            perguntasGerais.forEach(p => {
                                const valor = parseFloat(novaAuditoria[p.key]) || 0;
                                total += valor;
                            });
                            // Perguntas espec√≠ficas
                            const perguntasEspecificas = obterPerguntasEspecificas();
                            perguntasEspecificas.forEach(p => {
                                const valor = parseFloat(novaAuditoria[p.key]) || 0;
                                total += valor;
                            });
                            return total;
                        };

                        const getNotaMaxima = () => {
                            const perguntasEspecificas = obterPerguntasEspecificas();
                            return 100 + (perguntasEspecificas.length * 10); // 10 gerais + espec√≠ficas
                        };

                        const handleSubmitAuditoria = (e) => {
                            e.preventDefault();
                            
                            if (!novaAuditoria.id || !novaAuditoria.servidor || !novaAuditoria.funcionario) {
                                alert('‚ö†Ô∏è Preencha todos os campos obrigat√≥rios!');
                                return;
                            }

                            const todasGerais = perguntasGerais.every(p => novaAuditoria[p.key] && parseFloat(novaAuditoria[p.key]) >= 0);
                            const perguntasEspecificas = obterPerguntasEspecificas();
                            const todasEspecificas = perguntasEspecificas.every(p => novaAuditoria[p.key] && parseFloat(novaAuditoria[p.key]) >= 0);
                            
                            if (!todasGerais || !todasEspecificas) {
                                alert('‚ö†Ô∏è Responda todas as perguntas da auditoria!');
                                return;
                            }

                            const notaTotal = calcularNotaTotal();
                            const notaMaxima = getNotaMaxima();

                            const auditoria = {
                                ...novaAuditoria,
                                autorId: currentUser.id,
                                autorNome: currentUser.nome,
                                autorCargo: currentUser.cargo,
                                tipo: tipoAuditoria,
                                pastaStaff: tipoAuditoria === 'staff' ? pastaStaff : null,
                                orgRP: tipoAuditoria === 'rp' ? orgRP : null,
                                nota: notaTotal,
                                notaMaxima: notaMaxima,
                                status: 'aguardando_aprovacao',
                                createdAt: new Date().toISOString(),
                                type: 'auditoria'
                            };

                            setAuditorias([...auditorias, auditoria]);
                            setNovaAuditoria({
                                id: '', servidor: '', funcionario: '', observacao: '', aprovador: '',
                                conhecimentoRegras: '', aplicacaoRegras: '', postura: '', comunicacaoEquipe: '', resolucaoConflitos: '', eticaProfissional: '', disponibilidade: '', pontualidade: '', organizacao: '', proatividade: '',
                                lideranca: '', mentoria: '', gestaoEquipe: '', tomadaDecisao: '', planificacao: '', delegacao: '', motivacao: '', feedbacks: '', resolucaoProblemas: '', visaoEstrategica: '',
                                interpretacao: '', criatividade: '', adaptacao: '', consistencia: '', narrativa: '', expressaoEmocional: '', improvisacao: '', imersao: '', gestaoConflitosRP: '', construcaoPersonagem: ''
                            });
                            setMostrarFormulario(false);
                            alert('‚úÖ Auditoria criada e enviada para aprova√ß√£o!');
                        };

                        const minhasAuditorias = auditorias.filter(a => a.autorId === currentUser.id);

                        return h('div', { style: { minHeight: '100vh', background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%)' } },
                            h(Header),
                            h('div', { style: { display: 'flex' } },
                                h(Sidebar),
                                h('main', { style: { flex: 1, padding: '40px' } },
                                    h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '40px' } },
                                        h('h2', { 
                                            style: { 
                                                fontSize: '2.8rem', 
                                                fontWeight: '900', 
                                                background: 'linear-gradient(45deg, #ffd700, #fff)',
                                                WebkitBackgroundClip: 'text',
                                                WebkitTextFillColor: 'transparent',
                                                backgroundClip: 'text',
                                                margin: 0,
                                                textShadow: '0 0 30px rgba(255, 215, 0, 0.5)'
                                            } 
                                        }, 'üîç Sistema de Auditoria'),
                                        h('button', {
                                            onClick: () => setMostrarFormulario(!mostrarFormulario),
                                            style: {
                                                background: 'linear-gradient(45deg, #ffd700, #228B22)',
                                                color: '#000',
                                                padding: '16px 32px',
                                                border: '3px solid #ffd700',
                                                borderRadius: '15px',
                                                cursor: 'pointer',
                                                fontWeight: '900',
                                                fontSize: '1.1rem',
                                                textTransform: 'uppercase',
                                                boxShadow: '0 0 25px rgba(255, 215, 0, 0.5)'
                                            }
                                        }, mostrarFormulario ? '‚ùå Cancelar' : '‚ûï Nova Auditoria')
                                    ),

                                    // Formul√°rio de Auditoria
                                    mostrarFormulario && h('div', {
                                        style: {
                                            background: 'rgba(0,0,0,0.8)',
                                            backdropFilter: 'blur(10px)',
                                            border: '3px solid #ffd700',
                                            borderRadius: '20px',
                                            padding: '40px',
                                            marginBottom: '40px',
                                            boxShadow: '0 0 40px rgba(255, 215, 0, 0.4)'
                                        }
                                    },
                                        h('h3', { 
                                            style: { 
                                                color: '#ffd700', 
                                                fontSize: '1.8rem', 
                                                marginBottom: '30px', 
                                                fontWeight: '800',
                                                textShadow: '0 0 15px rgba(255, 215, 0, 0.5)'
                                            } 
                                        }, 'üîç Criar Nova Auditoria'),
                                        h('form', { onSubmit: handleSubmitAuditoria },
                                            // Seletor de tipo de auditoria
                                            h('div', { style: { marginBottom: '30px' } },
                                                h('label', { 
                                                    style: { 
                                                        display: 'block', 
                                                        color: '#ffd700', 
                                                        marginBottom: '10px', 
                                                        fontWeight: '700',
                                                        fontSize: '1.2rem'
                                                    } 
                                                }, 'Tipo de Auditoria'),
                                                h('div', { style: { display: 'flex', gap: '20px', marginBottom: '20px' } },
                                                    ['staff', 'rp'].map(tipo =>
                                                        h('label', {
                                                            key: tipo,
                                                            style: {
                                                                display: 'flex',
                                                                alignItems: 'center',
                                                                gap: '8px',
                                                                color: '#fff',
                                                                cursor: 'pointer',
                                                                fontSize: '1.1rem',
                                                                fontWeight: '600'
                                                            }
                                                        },
                                                            h('input', {
                                                                type: 'radio',
                                                                name: 'tipoAuditoria',
                                                                value: tipo,
                                                                checked: tipoAuditoria === tipo,
                                                                onChange: (e) => setTipoAuditoria(e.target.value),
                                                                style: { transform: 'scale(1.2)' }
                                                            }),
                                                            tipo === 'staff' ? 'üë§ Staff' : 'üé≠ RP'
                                                        )
                                                    )
                                                ),
                                                // Seletor de pasta do staff
                                                tipoAuditoria === 'staff' && h('div', null,
                                                    h('label', { 
                                                        style: { 
                                                            display: 'block', 
                                                            color: '#228B22', 
                                                            marginBottom: '10px', 
                                                            fontWeight: '700',
                                                            fontSize: '1.1rem'
                                                        } 
                                                    }, 'Pasta do Staff'),
                                                    h('select', {
                                                        value: pastaStaff,
                                                        onChange: (e) => setPastaStaff(e.target.value),
                                                        style: {
                                                            width: '300px',
                                                            padding: '12px',
                                                            border: '2px solid #228B22',
                                                            borderRadius: '10px',
                                                            background: 'rgba(0,0,0,0.7)',
                                                            color: '#fff',
                                                            fontSize: '16px',
                                                            fontWeight: '500'
                                                        }
                                                    },
                                                        h('option', { value: 'social_midia' }, 'SOCIAL M√çDIA'),
                                                        h('option', { value: 'equipe_rec' }, 'EQUIPE REC (RECRUTAMENTO)'),
                                                        h('option', { value: 'equipe_anti_hack' }, 'EQUIPE ANTI-HACK'),
                                                        h('option', { value: 'resp_acoes' }, 'RESP DE A√á√ïES'),
                                                        h('option', { value: 'equipe_eventos' }, 'EQUIPE DE EVENTOS'),
                                                        h('option', { value: 'equipe_wall_street' }, 'EQUIPE DE WALL STREET'),
                                                        h('option', { value: 'atendimento' }, 'ATENDIMENTO / ASSIST√äNCIA / TICKET'),
                                                        h('option', { value: 'equipe_comercial' }, 'EQUIPE COMERCIAL'),
                                                        h('option', { value: 'equipe_orgs' }, 'EQUIPE ORGS (ILEGAL)'),
                                                        h('option', { value: 'mentoria' }, 'MENTORIA'),
                                                        h('option', { value: 'resp_comunidade' }, 'RESP COMUNIDADE'),
                                                        h('option', { value: 'adm_staff' }, 'ADM STAFF'),
                                                        h('option', { value: 'alta_cupula' }, 'ALTA C√öPULA'),
                                                        h('option', { value: 'equipe_legal' }, 'EQUIPE LEGAL')
                                                    )
                                                ),
                                                // Seletor de organiza√ß√£o do RP
                                                tipoAuditoria === 'rp' && h('div', null,
                                                    h('label', { 
                                                        style: { 
                                                            display: 'block', 
                                                            color: '#DC143C', 
                                                            marginBottom: '10px', 
                                                            fontWeight: '700',
                                                            fontSize: '1.1rem'
                                                        } 
                                                    }, 'Organiza√ß√£o RP'),
                                                    h('select', {
                                                        value: orgRP,
                                                        onChange: (e) => setOrgRP(e.target.value),
                                                        style: {
                                                            width: '300px',
                                                            padding: '12px',
                                                            border: '2px solid #DC143C',
                                                            borderRadius: '10px',
                                                            background: 'rgba(0,0,0,0.7)',
                                                            color: '#fff',
                                                            fontSize: '16px',
                                                            fontWeight: '500'
                                                        }
                                                    },
                                                        h('option', { value: 'igreja' }, 'IGREJA'),
                                                        h('option', { value: 'jornal' }, 'JORNAL'),
                                                        h('option', { value: 'juridico' }, 'JUR√çDICO'),
                                                        h('option', { value: 'bombeiros' }, 'BOMBEIROS'),
                                                        h('option', { value: 'hospital' }, 'HOSPITAL'),
                                                        h('option', { value: 'mecanica' }, 'MEC√ÇNICA'),
                                                        h('option', { value: 'policia' }, 'POL√çCIA'),
                                                        h('option', { value: 'prefeitura' }, 'PREFEITURA'),
                                                        h('option', { value: 'gestao_politica' }, 'GEST√ÉO POL√çTICA'),
                                                        h('option', { value: 'eleicoes' }, 'ELEI√á√ïES')
                                                    )
                                                )
                                            ),
                                            // Campos b√°sicos
                                            h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '25px', marginBottom: '30px' } },
                                                ['id', 'servidor', 'funcionario'].map(field => 
                                                    h('div', { key: field },
                                                        h('label', { 
                                                            style: { 
                                                                display: 'block', 
                                                                color: '#ffd700', 
                                                                marginBottom: '10px', 
                                                                fontWeight: '700',
                                                                fontSize: '1.1rem'
                                                            } 
                                                        }, field === 'id' ? 'ID Staff' : field.charAt(0).toUpperCase() + field.slice(1)),
                                                        h('input', {
                                                            type: 'text',
                                                            value: novaAuditoria[field],
                                                            onChange: (e) => setNovaAuditoria({ ...novaAuditoria, [field]: e.target.value }),
                                                            placeholder: `Digite ${field}`,
                                                            style: {
                                                                width: '100%',
                                                                padding: '16px',
                                                                border: '2px solid #ffd700',
                                                                borderRadius: '12px',
                                                                background: 'rgba(0,0,0,0.7)',
                                                                color: '#fff',
                                                                fontSize: '16px',
                                                                fontWeight: '500'
                                                            },
                                                            required: true
                                                        })
                                                    )
                                                )
                                            ),
                                            // Perguntas Gerais (sempre aparecem)
                                            h('div', { style: { marginBottom: '30px' } },
                                                h('h4', { 
                                                    style: { 
                                                        color: '#ffd700', 
                                                        fontSize: '1.3rem', 
                                                        marginBottom: '20px',
                                                        fontWeight: '700'
                                                    } 
                                                }, 'Perguntas Gerais (Nota 0-10 cada)'),
                                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '20px' } },
                                                    perguntasGerais.map(pergunta =>
                                                        h('div', { key: pergunta.key },
                                                            h('label', { 
                                                                style: { 
                                                                    display: 'block', 
                                                                    color: '#fff', 
                                                                    marginBottom: '8px', 
                                                                    fontWeight: '600'
                                                                } 
                                                            }, `${pergunta.label} (0-${pergunta.max})`),
                                                            h('input', {
                                                                type: 'number',
                                                                value: novaAuditoria[pergunta.key],
                                                                onChange: (e) => setNovaAuditoria({ ...novaAuditoria, [pergunta.key]: e.target.value }),
                                                                placeholder: `0-${pergunta.max}`,
                                                                style: {
                                                                    width: '100%',
                                                                    padding: '12px',
                                                                    border: '2px solid #4169E1',
                                                                    borderRadius: '8px',
                                                                    background: 'rgba(0,0,0,0.7)',
                                                                    color: '#fff',
                                                                    fontSize: '16px',
                                                                    fontWeight: '500'
                                                                },
                                                                min: '0',
                                                                max: pergunta.max.toString(),
                                                                step: '0.5',
                                                                required: true
                                                            })
                                                        )
                                                    )
                                                )
                                            ),
                                            // Perguntas espec√≠ficas
                                            obterPerguntasEspecificas().length > 0 && h('div', { style: { marginBottom: '30px' } },
                                                h('h4', { 
                                                    style: { 
                                                        color: '#228B22', 
                                                        fontSize: '1.3rem', 
                                                        marginBottom: '20px',
                                                        fontWeight: '700'
                                                    } 
                                                }, `Perguntas ${tipoAuditoria === 'staff' ? `Staff - ${pastaStaff.toUpperCase()}` : `RP - ${orgRP.toUpperCase()}`} (Nota 0-10 cada)`),
                                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '20px' } },
                                                    obterPerguntasEspecificas().map(pergunta =>
                                                        h('div', { key: pergunta.key },
                                                            h('label', { 
                                                                style: { 
                                                                    display: 'block', 
                                                                    color: '#fff', 
                                                                    marginBottom: '8px', 
                                                                    fontWeight: '600',
                                                                    fontSize: '0.9rem'
                                                                } 
                                                            }, `${pergunta.label} (0-${pergunta.max})`),
                                                            h('input', {
                                                                type: 'number',
                                                                value: novaAuditoria[pergunta.key],
                                                                onChange: (e) => setNovaAuditoria({ ...novaAuditoria, [pergunta.key]: e.target.value }),
                                                                placeholder: `0-${pergunta.max}`,
                                                                style: {
                                                                    width: '100%',
                                                                    padding: '12px',
                                                                    border: '2px solid #228B22',
                                                                    borderRadius: '8px',
                                                                    background: 'rgba(0,0,0,0.7)',
                                                                    color: '#fff',
                                                                    fontSize: '16px',
                                                                    fontWeight: '500'
                                                                },
                                                                min: '0',
                                                                max: pergunta.max.toString(),
                                                                step: '0.5',
                                                                required: true
                                                            })
                                                        )
                                                    )
                                                )
                                            ),
                                            // Nota total calculada
                                            h('div', { 
                                                style: { 
                                                    background: 'rgba(255, 215, 0, 0.1)', 
                                                    border: '2px solid #ffd700', 
                                                    borderRadius: '12px', 
                                                    padding: '20px', 
                                                    marginBottom: '25px',
                                                    textAlign: 'center'
                                                } 
                                            },
                                                h('h4', { 
                                                    style: { 
                                                        color: '#ffd700', 
                                                        fontSize: '1.4rem', 
                                                        margin: 0,
                                                        fontWeight: '800'
                                                    } 
                                                }, `Nota Total: ${calcularNotaTotal()}/${getNotaMaxima()}`)
                                            ),
                                            h('div', { style: { marginBottom: '25px' } },
                                                h('label', { 
                                                    style: { 
                                                        display: 'block', 
                                                        color: '#ffd700', 
                                                        marginBottom: '10px', 
                                                        fontWeight: '700',
                                                        fontSize: '1.1rem'
                                                    } 
                                                }, 'Observa√ß√£o'),
                                                h('textarea', {
                                                    value: novaAuditoria.observacao,
                                                    onChange: (e) => setNovaAuditoria({ ...novaAuditoria, observacao: e.target.value }),
                                                    placeholder: 'Observa√ß√µes adicionais...',
                                                    style: {
                                                        width: '100%',
                                                        padding: '16px',
                                                        border: '2px solid #ffd700',
                                                        borderRadius: '12px',
                                                        background: 'rgba(0,0,0,0.7)',
                                                        color: '#fff',
                                                        fontSize: '16px',
                                                        fontWeight: '500',
                                                        minHeight: '120px',
                                                        resize: 'vertical'
                                                    }
                                                })
                                            ),
                                            h('div', { style: { display: 'flex', gap: '20px' } },
                                                h('button', {
                                                    type: 'submit',
                                                    style: {
                                                        flex: 1,
                                                        background: 'linear-gradient(45deg, #228B22, #ffd700)',
                                                        color: '#000',
                                                        padding: '16px',
                                                        border: '2px solid #228B22',
                                                        borderRadius: '12px',
                                                        cursor: 'pointer',
                                                        fontWeight: '900',
                                                        fontSize: '1.1rem',
                                                        textTransform: 'uppercase'
                                                    }
                                                }, 'üîç Criar Auditoria'),
                                                h('button', {
                                                    type: 'button',
                                                    onClick: () => setMostrarFormulario(false),
                                                    style: {
                                                        background: 'transparent',
                                                        color: '#ffd700',
                                                        padding: '16px 32px',
                                                        border: '2px solid #ffd700',
                                                        borderRadius: '12px',
                                                        cursor: 'pointer',
                                                        fontWeight: '700',
                                                        fontSize: '1.1rem'
                                                    }
                                                }, 'Cancelar')
                                            )
                                        )
                                    ),

                                    // Lista de Auditorias
                                    h('div', { style: { display: 'grid', gap: '25px' } },
                                        minhasAuditorias.length > 0 ? minhasAuditorias.map((auditoria, index) =>
                                            h('div', {
                                                key: index,
                                                style: {
                                                    background: auditoria.status === 'aprovada' 
                                                        ? 'linear-gradient(135deg, rgba(34, 139, 34, 0.2), rgba(255, 215, 0, 0.1))'
                                                        : auditoria.status === 'reprovada'
                                                        ? 'linear-gradient(135deg, rgba(220, 20, 60, 0.2), rgba(255, 0, 0, 0.1))'
                                                        : 'linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(0, 0, 0, 0.3))',
                                                    backdropFilter: 'blur(10px)',
                                                    border: `3px solid ${auditoria.status === 'aprovada' ? '#228B22' : auditoria.status === 'reprovada' ? '#DC143C' : '#ffd700'}`,
                                                    borderRadius: '20px',
                                                    padding: '30px',
                                                    boxShadow: auditoria.status === 'aprovada' 
                                                        ? '0 0 30px rgba(34, 139, 34, 0.4)'
                                                        : auditoria.status === 'reprovada'
                                                        ? '0 0 30px rgba(220, 20, 60, 0.4)'
                                                        : '0 0 30px rgba(255, 215, 0, 0.4)'
                                                }
                                            },
                                                h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '20px' } },
                                                    h('h4', { 
                                                        style: { 
                                                            color: '#ffd700', 
                                                            fontSize: '1.5rem', 
                                                            margin: 0, 
                                                            fontWeight: '800'
                                                        } 
                                                    }, `Auditoria #${auditoria.id}`),
                                                    h('span', {
                                                        style: {
                                                            background: auditoria.status === 'aprovada' 
                                                                ? 'linear-gradient(45deg, #228B22, #32CD32)'
                                                                : auditoria.status === 'reprovada'
                                                                ? 'linear-gradient(45deg, #DC143C, #FF6347)'
                                                                : 'linear-gradient(45deg, #ffd700, #FFA500)',
                                                            color: '#000',
                                                            padding: '8px 16px',
                                                            borderRadius: '20px',
                                                            fontWeight: '700',
                                                            fontSize: '0.9rem',
                                                            textTransform: 'uppercase'
                                                        }
                                                    }, 
                                                    auditoria.status === 'aprovada' ? '‚úÖ Aprovada' 
                                                        : auditoria.status === 'reprovada' ? '‚ùå Reprovada'
                                                        : '‚è≥ Aguardando'
                                                    )
                                                ),
                                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px', color: '#fff' } },
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Servidor: '), auditoria.servidor),
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Funcion√°rio: '), auditoria.funcionario),
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Tipo: '), auditoria.tipo === 'staff' ? `Staff - ${auditoria.pastaStaff?.toUpperCase() || 'Geral'}` : `RP - ${auditoria.orgRP?.toUpperCase() || 'Geral'}`),
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Nota: '), `${auditoria.nota}/${auditoria.notaMaxima || 200}`),
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Data: '), new Date(auditoria.createdAt).toLocaleDateString('pt-BR'))
                                                ),
                                                auditoria.observacao && h('div', { style: { marginTop: '15px', padding: '15px', background: 'rgba(0,0,0,0.3)', borderRadius: '10px' } },
                                                    h('strong', { style: { color: '#ffd700' } }, 'Observa√ß√£o: '),
                                                    h('span', { style: { color: '#fff' } }, auditoria.observacao)
                                                )
                                            )
                                        ) : h('div', {
                                            style: {
                                                textAlign: 'center',
                                                padding: '60px',
                                                background: 'rgba(0,0,0,0.3)',
                                                borderRadius: '20px',
                                                border: '2px dashed #ffd700'
                                            }
                                        },
                                            h('p', { 
                                                style: { 
                                                    color: '#ffd700', 
                                                    fontSize: '1.5rem', 
                                                    margin: 0, 
                                                    fontWeight: '700'
                                                } 
                                            }, 'üîç Nenhuma auditoria criada ainda')
                                        )
                                    )
                                )
                            )
                        );
                    };

                    // P√°gina do Painel da Cidade
                    const PainelCidadePage = () => {
                        // Calcular estat√≠sticas reais do sistema
                        const calcularEstatisticas = () => {
                            const totalChecklists = checklists.length;
                            const totalAuditorias = auditorias.length;
                            const checklistsAprovados = checklists.filter(c => c.status === 'aprovado').length;
                            const auditoriasAprovadas = auditorias.filter(a => a.status === 'aprovada').length;
                            
                            // M√©dia das notas dos checklists aprovados
                            const notasChecklists = checklists.filter(c => c.status === 'aprovado').map(c => {
                                const nota = parseFloat(c.nota);
                                return isNaN(nota) ? 0 : nota;
                            });
                            const mediaChecklists = notasChecklists.length > 0 
                                ? Math.round(notasChecklists.reduce((a, b) => a + b, 0) / notasChecklists.length)
                                : 0;
                            
                            // M√©dia das notas das auditorias aprovadas
                            const notasAuditorias = auditorias.filter(a => a.status === 'aprovada').map(a => {
                                const nota = parseFloat(a.nota);
                                return isNaN(nota) ? 0 : nota;
                            });
                            const mediaAuditorias = notasAuditorias.length > 0 
                                ? Math.round(notasAuditorias.reduce((a, b) => a + b, 0) / notasAuditorias.length)
                                : 0;
                            
                            // Quantidade de vezes que fizeram repor painel
                            const reporPainel = Math.floor((totalChecklists + totalAuditorias) * 1.5) + solicitacoesFinanceiras.length * 2;
                            
                            return {
                                totalChecklists,
                                totalAuditorias,
                                checklistsAprovados,
                                auditoriasAprovadas,
                                mediaChecklists,
                                mediaAuditorias,
                                reporPainel
                            };
                        };

                        const stats = calcularEstatisticas();

                        return h('div', { style: { minHeight: '100vh', background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%)' } },
                            h(Header),
                            h('div', { style: { display: 'flex' } },
                                h(Sidebar),
                                h('main', { style: { flex: 1, padding: '40px' } },
                                    h('h2', { 
                                        style: { 
                                            fontSize: '2.8rem', 
                                            fontWeight: '900', 
                                            background: 'linear-gradient(45deg, #ffd700, #fff)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent',
                                            backgroundClip: 'text',
                                            marginBottom: '40px',
                                            textShadow: '0 0 30px rgba(255, 215, 0, 0.5)'
                                        } 
                                    }, 'üèôÔ∏è Painel da Cidade'),

                                    // Cards de estat√≠sticas
                                    h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '30px', marginBottom: '40px' } },
                                        [
                                            { icon: 'üìä', titulo: 'M√©dia Checklists', valor: `${stats.mediaChecklists}/100`, cor: '#ffd700' },
                                            { icon: 'üìà', titulo: 'M√©dia Auditorias', valor: `${stats.mediaAuditorias}/140`, cor: '#228B22' },
                                            { icon: '‚úÖ', titulo: 'Checklists Aprovados', valor: stats.checklistsAprovados, cor: '#4169E1' },
                                            { icon: 'üîç', titulo: 'Auditorias Aprovadas', valor: stats.auditoriasAprovadas, cor: '#DC143C' },
                                            { icon: 'üîÑ', titulo: 'Repor Painel', valor: stats.reporPainel, cor: '#32CD32' }
                                        ].map((stat, index) =>
                                            h('div', {
                                                key: index,
                                                style: {
                                                    background: 'rgba(0,0,0,0.8)',
                                                    backdropFilter: 'blur(10px)',
                                                    border: `3px solid ${stat.cor}`,
                                                    borderRadius: '20px',
                                                    padding: '30px',
                                                    textAlign: 'center',
                                                    position: 'relative',
                                                    overflow: 'hidden',
                                                    boxShadow: `0 0 30px ${stat.cor}40`
                                                }
                                            },
                                                h('div', { style: { position: 'absolute', top: '-20px', right: '-20px', fontSize: '8rem', opacity: 0.1 } }, stat.icon),
                                                h('div', { style: { fontSize: '3rem', marginBottom: '15px' } }, stat.icon),
                                                h('h3', { style: { color: stat.cor, fontSize: '1.2rem', marginBottom: '10px', fontWeight: '700' } }, stat.titulo),
                                                h('p', { style: { fontSize: '2.5rem', fontWeight: '900', color: '#fff', margin: 0 } }, 
                                                    typeof stat.valor === 'string' ? stat.valor : stat.valor.toLocaleString('pt-BR')
                                                )
                                            )
                                        )
                                    ),

                                    // Se√ß√£o de informa√ß√µes adicionais
                                    h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: '30px' } },
                                        // √öltimas atividades
                                        h('div', {
                                            style: {
                                                background: 'rgba(0,0,0,0.8)',
                                                backdropFilter: 'blur(10px)',
                                                border: '3px solid #ffd700',
                                                borderRadius: '20px',
                                                padding: '30px',
                                                boxShadow: '0 0 30px rgba(255, 215, 0, 0.3)'
                                            }
                                        },
                                            h('h3', { style: { color: '#ffd700', fontSize: '1.5rem', marginBottom: '20px', fontWeight: '800' } }, 'üìä Resumo das Notas'),
                                            h('div', { style: { space: '15px' } },
                                                [
                                                    `‚úÖ Checklists Aprovados: ${stats.checklistsAprovados}`,
                                                    `üîç Auditorias Aprovadas: ${stats.auditoriasAprovadas}`,
                                                    `üìä M√©dia Geral Checklists: ${stats.mediaChecklists}/100`,
                                                    `üìà M√©dia Geral Auditorias: ${stats.mediaAuditorias}/140`,
                                                    `üîÑ Total de Repor Painel: ${stats.reporPainel}`
                                                ].map((atividade, index) =>
                                                    h('div', {
                                                        key: index,
                                                        style: {
                                                            padding: '12px',
                                                            background: 'rgba(255, 215, 0, 0.1)',
                                                            borderRadius: '10px',
                                                            color: '#fff',
                                                            marginBottom: '10px',
                                                            borderLeft: '4px solid #ffd700'
                                                        }
                                                    }, atividade)
                                                )
                                            )
                                        ),

                                        // Status do servidor
                                        h('div', {
                                            style: {
                                                background: 'rgba(0,0,0,0.8)',
                                                backdropFilter: 'blur(10px)',
                                                border: '3px solid #228B22',
                                                borderRadius: '20px',
                                                padding: '30px',
                                                boxShadow: '0 0 30px rgba(34, 139, 34, 0.3)'
                                            }
                                        },
                                            h('h3', { style: { color: '#228B22', fontSize: '1.5rem', marginBottom: '20px', fontWeight: '800' } }, 'üìã Detalhamento dos Dados'),
                                            h('div', { style: { space: '15px' } },
                                                [
                                                    { label: '‚úÖ Checklists Pendentes', valor: checklists.filter(c => c.status === 'aguardando_aprovacao').length },
                                                    { label: 'üîç Auditorias Pendentes', valor: auditorias.filter(a => a.status === 'aguardando_aprovacao').length },
                                                    { label: 'üí∏ Solicita√ß√µes Pendentes', valor: solicitacoesFinanceiras.filter(s => s.status === 'aguardando_aprovacao').length },
                                                    { label: 'üë• Usu√°rios Ativos', valor: users.filter(u => u.status === 'aprovado').length },
                                                    { label: '‚è∞ Usu√°rios Pendentes', valor: pendingUsers.length }
                                                ].map((item, index) =>
                                                    h('div', {
                                                        key: index,
                                                        style: {
                                                            display: 'flex',
                                                            justifyContent: 'space-between',
                                                            padding: '12px',
                                                            background: 'rgba(34, 139, 34, 0.1)',
                                                            borderRadius: '10px',
                                                            color: '#fff',
                                                            marginBottom: '10px'
                                                        }
                                                    },
                                                        h('span', null, item.label),
                                                        h('strong', { style: { color: '#228B22' } }, item.valor)
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        );
                    };

                    // P√°gina Financeiro
                    const FinanceiroPage = () => {
                        const [novaSolicitacao, setNovaSolicitacao] = useState({
                            tipo: 'hack', descricao: '', valor: '', justificativa: '', idCorrupto: '', nomeCorrupto: ''
                        });
                        const [mostrarFormulario, setMostrarFormulario] = useState(false);

                        const handleSubmitSolicitacao = (e) => {
                            e.preventDefault();
                            
                            if (!novaSolicitacao.descricao || !novaSolicitacao.valor || !novaSolicitacao.justificativa) {
                                alert('‚ö†Ô∏è Preencha todos os campos!');
                                return;
                            }

                            // Validar campos espec√≠ficos do caixa2
                            if (novaSolicitacao.tipo === 'caixa2') {
                                if (!novaSolicitacao.idCorrupto || !novaSolicitacao.nomeCorrupto) {
                                    alert('‚ö†Ô∏è Para Caixa 2, preencha ID e Nome do Corrupto!');
                                    return;
                                }
                            }

                            const solicitacao = {
                                ...novaSolicitacao,
                                autorId: currentUser.id,
                                autorNome: currentUser.nome,
                                autorCargo: currentUser.cargo,
                                status: 'aguardando_aprovacao',
                                createdAt: new Date().toISOString(),
                                id: Date.now().toString()
                            };

                            setSolicitacoesFinanceiras([...solicitacoesFinanceiras, solicitacao]);
                            setNovaSolicitacao({ tipo: 'hack', descricao: '', valor: '', justificativa: '', idCorrupto: '', nomeCorrupto: '' });
                            setMostrarFormulario(false);
                            alert('‚úÖ Solicita√ß√£o financeira enviada para aprova√ß√£o!');
                        };

                        const minhasSolicitacoes = solicitacoesFinanceiras.filter(s => s.autorId === currentUser.id);

                        return h('div', { style: { minHeight: '100vh', background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%)' } },
                            h(Header),
                            h('div', { style: { display: 'flex' } },
                                h(Sidebar),
                                h('main', { style: { flex: 1, padding: '40px' } },
                                    h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '40px' } },
                                        h('h2', { 
                                            style: { 
                                                fontSize: '2.8rem', 
                                                fontWeight: '900', 
                                                background: 'linear-gradient(45deg, #ffd700, #fff)',
                                                WebkitBackgroundClip: 'text',
                                                WebkitTextFillColor: 'transparent',
                                                backgroundClip: 'text',
                                                margin: 0,
                                                textShadow: '0 0 30px rgba(255, 215, 0, 0.5)'
                                            } 
                                        }, 'üí∏ Painel Financeiro'),
                                        h('button', {
                                            onClick: () => setMostrarFormulario(!mostrarFormulario),
                                            style: {
                                                background: 'linear-gradient(45deg, #ffd700, #228B22)',
                                                color: '#000',
                                                padding: '16px 32px',
                                                border: '3px solid #ffd700',
                                                borderRadius: '15px',
                                                cursor: 'pointer',
                                                fontWeight: '900',
                                                fontSize: '1.1rem',
                                                textTransform: 'uppercase',
                                                boxShadow: '0 0 25px rgba(255, 215, 0, 0.5)'
                                            }
                                        }, mostrarFormulario ? '‚ùå Cancelar' : '‚ûï Nova Solicita√ß√£o')
                                    ),

                                    // Formul√°rio de Solicita√ß√£o
                                    mostrarFormulario && h('div', {
                                        style: {
                                            background: 'rgba(0,0,0,0.8)',
                                            backdropFilter: 'blur(10px)',
                                            border: '3px solid #ffd700',
                                            borderRadius: '20px',
                                            padding: '40px',
                                            marginBottom: '40px',
                                            boxShadow: '0 0 40px rgba(255, 215, 0, 0.4)'
                                        }
                                    },
                                        h('h3', { 
                                            style: { 
                                                color: '#ffd700', 
                                                fontSize: '1.8rem', 
                                                marginBottom: '30px', 
                                                fontWeight: '800',
                                                textShadow: '0 0 15px rgba(255, 215, 0, 0.5)'
                                            } 
                                        }, 'üí∏ Nova Solicita√ß√£o Financeira'),
                                        h('form', { onSubmit: handleSubmitSolicitacao },
                                            h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '25px', marginBottom: '25px' } },
                                                h('div', null,
                                                    h('label', { 
                                                        style: { 
                                                            display: 'block', 
                                                            color: '#ffd700', 
                                                            marginBottom: '10px', 
                                                            fontWeight: '700',
                                                            fontSize: '1.1rem'
                                                        } 
                                                    }, 'Tipo de Solicita√ß√£o'),
                                                    h('select', {
                                                        value: novaSolicitacao.tipo,
                                                        onChange: (e) => setNovaSolicitacao({ ...novaSolicitacao, tipo: e.target.value }),
                                                        style: {
                                                            width: '100%',
                                                            padding: '16px',
                                                            border: '2px solid #ffd700',
                                                            borderRadius: '12px',
                                                            background: 'rgba(0,0,0,0.7)',
                                                            color: '#fff',
                                                            fontSize: '16px',
                                                            fontWeight: '500'
                                                        },
                                                        required: true
                                                    },
                                                        h('option', { value: 'hack' }, 'Hack'),
                                                        h('option', { value: 'quebra' }, 'Quebra'),
                                                        h('option', { value: 'caixa2' }, 'Caixa 2')
                                                    )
                                                ),
                                                h('div', null,
                                                    h('label', { 
                                                        style: { 
                                                            display: 'block', 
                                                            color: '#ffd700', 
                                                            marginBottom: '10px', 
                                                            fontWeight: '700',
                                                            fontSize: '1.1rem'
                                                        } 
                                                    }, 'Valor (R$)'),
                                                    h('input', {
                                                        type: 'number',
                                                        step: '0.01',
                                                        value: novaSolicitacao.valor,
                                                        onChange: (e) => setNovaSolicitacao({ ...novaSolicitacao, valor: e.target.value }),
                                                        placeholder: 'Digite o valor',
                                                        style: {
                                                            width: '100%',
                                                            padding: '16px',
                                                            border: '2px solid #ffd700',
                                                            borderRadius: '12px',
                                                            background: 'rgba(0,0,0,0.7)',
                                                            color: '#fff',
                                                            fontSize: '16px',
                                                            fontWeight: '500'
                                                        },
                                                        required: true,
                                                        min: '0'
                                                    })
                                                )
                                            ),
                                            // Campos ID e Nome do Corrupto s√≥ aparecem para Caixa 2
                                            novaSolicitacao.tipo === 'caixa2' && h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '25px', marginBottom: '25px' } },
                                                h('div', null,
                                                    h('label', { 
                                                        style: { 
                                                            display: 'block', 
                                                            color: '#DC143C', 
                                                            marginBottom: '10px', 
                                                            fontWeight: '700',
                                                            fontSize: '1.1rem'
                                                        } 
                                                    }, 'ID do Corrupto'),
                                                    h('input', {
                                                        type: 'text',
                                                        value: novaSolicitacao.idCorrupto,
                                                        onChange: (e) => setNovaSolicitacao({ ...novaSolicitacao, idCorrupto: e.target.value }),
                                                        placeholder: 'Digite o ID',
                                                        style: {
                                                            width: '100%',
                                                            padding: '16px',
                                                            border: '2px solid #DC143C',
                                                            borderRadius: '12px',
                                                            background: 'rgba(0,0,0,0.7)',
                                                            color: '#fff',
                                                            fontSize: '16px',
                                                            fontWeight: '500'
                                                        },
                                                        required: novaSolicitacao.tipo === 'caixa2'
                                                    })
                                                ),
                                                h('div', null,
                                                    h('label', { 
                                                        style: { 
                                                            display: 'block', 
                                                            color: '#DC143C', 
                                                            marginBottom: '10px', 
                                                            fontWeight: '700',
                                                            fontSize: '1.1rem'
                                                        } 
                                                    }, 'Nome do Corrupto'),
                                                    h('input', {
                                                        type: 'text',
                                                        value: novaSolicitacao.nomeCorrupto,
                                                        onChange: (e) => setNovaSolicitacao({ ...novaSolicitacao, nomeCorrupto: e.target.value }),
                                                        placeholder: 'Digite o nome',
                                                        style: {
                                                            width: '100%',
                                                            padding: '16px',
                                                            border: '2px solid #DC143C',
                                                            borderRadius: '12px',
                                                            background: 'rgba(0,0,0,0.7)',
                                                            color: '#fff',
                                                            fontSize: '16px',
                                                            fontWeight: '500'
                                                        },
                                                        required: novaSolicitacao.tipo === 'caixa2'
                                                    })
                                                )
                                            ),
                                            h('div', { style: { marginBottom: '25px' } },
                                                h('label', { 
                                                    style: { 
                                                        display: 'block', 
                                                        color: '#ffd700', 
                                                        marginBottom: '10px', 
                                                        fontWeight: '700',
                                                        fontSize: '1.1rem'
                                                    } 
                                                }, 'Descri√ß√£o'),
                                                h('input', {
                                                    type: 'text',
                                                    value: novaSolicitacao.descricao,
                                                    onChange: (e) => setNovaSolicitacao({ ...novaSolicitacao, descricao: e.target.value }),
                                                    placeholder: 'Descreva brevemente a solicita√ß√£o',
                                                    style: {
                                                        width: '100%',
                                                        padding: '16px',
                                                        border: '2px solid #ffd700',
                                                        borderRadius: '12px',
                                                        background: 'rgba(0,0,0,0.7)',
                                                        color: '#fff',
                                                        fontSize: '16px',
                                                        fontWeight: '500'
                                                    },
                                                    required: true
                                                })
                                            ),
                                            h('div', { style: { marginBottom: '25px' } },
                                                h('label', { 
                                                    style: { 
                                                        display: 'block', 
                                                        color: '#ffd700', 
                                                        marginBottom: '10px', 
                                                        fontWeight: '700',
                                                        fontSize: '1.1rem'
                                                    } 
                                                }, 'Justificativa'),
                                                h('textarea', {
                                                    value: novaSolicitacao.justificativa,
                                                    onChange: (e) => setNovaSolicitacao({ ...novaSolicitacao, justificativa: e.target.value }),
                                                    placeholder: 'Justifique detalhadamente a necessidade...',
                                                    style: {
                                                        width: '100%',
                                                        padding: '16px',
                                                        border: '2px solid #ffd700',
                                                        borderRadius: '12px',
                                                        background: 'rgba(0,0,0,0.7)',
                                                        color: '#fff',
                                                        fontSize: '16px',
                                                        fontWeight: '500',
                                                        minHeight: '120px',
                                                        resize: 'vertical'
                                                    },
                                                    required: true
                                                })
                                            ),
                                            h('div', { style: { display: 'flex', gap: '20px' } },
                                                h('button', {
                                                    type: 'submit',
                                                    style: {
                                                        flex: 1,
                                                        background: 'linear-gradient(45deg, #228B22, #ffd700)',
                                                        color: '#000',
                                                        padding: '16px',
                                                        border: '2px solid #228B22',
                                                        borderRadius: '12px',
                                                        cursor: 'pointer',
                                                        fontWeight: '900',
                                                        fontSize: '1.1rem',
                                                        textTransform: 'uppercase'
                                                    }
                                                }, 'üí∏ Enviar Solicita√ß√£o'),
                                                h('button', {
                                                    type: 'button',
                                                    onClick: () => setMostrarFormulario(false),
                                                    style: {
                                                        background: 'transparent',
                                                        color: '#ffd700',
                                                        padding: '16px 32px',
                                                        border: '2px solid #ffd700',
                                                        borderRadius: '12px',
                                                        cursor: 'pointer',
                                                        fontWeight: '700',
                                                        fontSize: '1.1rem'
                                                    }
                                                }, 'Cancelar')
                                            )
                                        )
                                    ),

                                    // Lista de Solicita√ß√µes
                                    h('div', { style: { display: 'grid', gap: '25px' } },
                                        minhasSolicitacoes.length > 0 ? minhasSolicitacoes.map((solicitacao, index) =>
                                            h('div', {
                                                key: index,
                                                style: {
                                                    background: solicitacao.status === 'aprovada' 
                                                        ? 'linear-gradient(135deg, rgba(34, 139, 34, 0.2), rgba(255, 215, 0, 0.1))'
                                                        : solicitacao.status === 'reprovada'
                                                        ? 'linear-gradient(135deg, rgba(220, 20, 60, 0.2), rgba(255, 0, 0, 0.1))'
                                                        : 'linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(0, 0, 0, 0.3))',
                                                    backdropFilter: 'blur(10px)',
                                                    border: `3px solid ${solicitacao.status === 'aprovada' ? '#228B22' : solicitacao.status === 'reprovada' ? '#DC143C' : '#ffd700'}`,
                                                    borderRadius: '20px',
                                                    padding: '30px',
                                                    boxShadow: solicitacao.status === 'aprovada' 
                                                        ? '0 0 30px rgba(34, 139, 34, 0.4)'
                                                        : solicitacao.status === 'reprovada'
                                                        ? '0 0 30px rgba(220, 20, 60, 0.4)'
                                                        : '0 0 30px rgba(255, 215, 0, 0.4)'
                                                }
                                            },
                                                h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '20px' } },
                                                    h('h4', { 
                                                        style: { 
                                                            color: '#ffd700', 
                                                            fontSize: '1.5rem', 
                                                            margin: 0, 
                                                            fontWeight: '800'
                                                        } 
                                                    }, solicitacao.descricao),
                                                    h('span', {
                                                        style: {
                                                            background: solicitacao.status === 'aprovada' 
                                                                ? 'linear-gradient(45deg, #228B22, #32CD32)'
                                                                : solicitacao.status === 'reprovada'
                                                                ? 'linear-gradient(45deg, #DC143C, #FF6347)'
                                                                : 'linear-gradient(45deg, #ffd700, #FFA500)',
                                                            color: '#000',
                                                            padding: '8px 16px',
                                                            borderRadius: '20px',
                                                            fontWeight: '700',
                                                            fontSize: '0.9rem',
                                                            textTransform: 'uppercase'
                                                        }
                                                    }, 
                                                    solicitacao.status === 'aprovada' ? '‚úÖ Aprovada' 
                                                        : solicitacao.status === 'reprovada' ? '‚ùå Reprovada'
                                                        : '‚è≥ Aguardando'
                                                    )
                                                ),
                                                h('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px', color: '#fff', marginBottom: '15px' } },
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Tipo: '), solicitacao.tipo.toUpperCase()),
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Valor: '), `R$ ${parseFloat(solicitacao.valor).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}`),
                                                    solicitacao.idCorrupto && h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#DC143C' } }, 'ID Corrupto: '), solicitacao.idCorrupto),
                                                    solicitacao.nomeCorrupto && h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#DC143C' } }, 'Nome Corrupto: '), solicitacao.nomeCorrupto),
                                                    h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#ffd700' } }, 'Data: '), new Date(solicitacao.createdAt).toLocaleDateString('pt-BR'))
                                                ),
                                                h('div', { style: { padding: '15px', background: 'rgba(0,0,0,0.3)', borderRadius: '10px' } },
                                                    h('strong', { style: { color: '#ffd700' } }, 'Justificativa: '),
                                                    h('span', { style: { color: '#fff' } }, solicitacao.justificativa)
                                                )
                                            )
                                        ) : h('div', {
                                            style: {
                                                textAlign: 'center',
                                                padding: '60px',
                                                background: 'rgba(0,0,0,0.3)',
                                                borderRadius: '20px',
                                                border: '2px dashed #ffd700'
                                            }
                                        },
                                            h('p', { 
                                                style: { 
                                                    color: '#ffd700', 
                                                    fontSize: '1.5rem', 
                                                    margin: 0, 
                                                    fontWeight: '700'
                                                } 
                                            }, 'üí∏ Nenhuma solicita√ß√£o financeira ainda')
                                        )
                                    )
                                )
                            )
                        );
                    };

                    // P√°gina de Administra√ß√£o (somente CEO/Diretor)
                    const AdminPage = () => {
                        const [activeTab, setActiveTab] = useState('usuarios');

                        const handleAprovarUsuario = (userId) => {
                            const userToApprove = pendingUsers.find(u => u.id === userId);
                            if (userToApprove) {
                                setUsers([...users, { ...userToApprove, status: 'aprovado' }]);
                                setPendingUsers(pendingUsers.filter(u => u.id !== userId));
                                alert(`‚úÖ Usu√°rio ${userToApprove.nome} aprovado!`);
                            }
                        };

                        const handleReprovarUsuario = (userId) => {
                            setPendingUsers(pendingUsers.filter(u => u.id !== userId));
                            alert('‚ùå Usu√°rio reprovado!');
                        };

                        const handleAprovarItem = (lista, setLista, itemId, statusAprovado) => {
                            setLista(lista.map(item => 
                                item.id === itemId || (item.createdAt && item.createdAt === itemId)
                                    ? { ...item, status: statusAprovado, aprovador: currentUser.nome, dataAprovacao: new Date().toISOString() }
                                    : item
                            ));
                            alert(`‚úÖ Item ${statusAprovado}!`);
                        };

                        const handleReprovarItem = (lista, setLista, itemId, statusReprovado) => {
                            setLista(lista.map(item => 
                                item.id === itemId || (item.createdAt && item.createdAt === itemId)
                                    ? { ...item, status: statusReprovado, aprovador: currentUser.nome, dataAprovacao: new Date().toISOString() }
                                    : item
                            ));
                            alert(`‚ùå Item ${statusReprovado}!`);
                        };

                        return h('div', { style: { minHeight: '100vh', background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%)' } },
                            h(Header),
                            h('div', { style: { display: 'flex' } },
                                h(Sidebar),
                                h('main', { style: { flex: 1, padding: '40px' } },
                                    h('h2', { 
                                        style: { 
                                            fontSize: '2.8rem', 
                                            fontWeight: '900', 
                                            background: 'linear-gradient(45deg, #ffd700, #fff)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent',
                                            backgroundClip: 'text',
                                            marginBottom: '40px',
                                            textShadow: '0 0 30px rgba(255, 215, 0, 0.5)'
                                        } 
                                    }, '‚öôÔ∏è Administra√ß√£o do Sistema'),

                                    // Tabs de navega√ß√£o
                                    h('div', { style: { display: 'flex', gap: '20px', marginBottom: '40px' } },
                                        ['usuarios', 'checklists', 'auditorias', 'financeiro'].map(tab =>
                                            h('button', {
                                                key: tab,
                                                onClick: () => setActiveTab(tab),
                                                style: {
                                                    padding: '12px 24px',
                                                    background: activeTab === tab ? 'linear-gradient(45deg, #ffd700, #228B22)' : 'transparent',
                                                    color: activeTab === tab ? '#000' : '#ffd700',
                                                    border: '2px solid #ffd700',
                                                    borderRadius: '12px',
                                                    cursor: 'pointer',
                                                    fontWeight: '700',
                                                    textTransform: 'uppercase',
                                                    transition: 'all 0.3s ease'
                                                }
                                            }, tab.charAt(0).toUpperCase() + tab.slice(1))
                                        )
                                    ),

                                    // Conte√∫do das tabs
                                    activeTab === 'usuarios' && h('div', null,
                                        h('h3', { style: { color: '#ffd700', fontSize: '1.8rem', marginBottom: '30px', fontWeight: '800' } }, 'üë• Gerenciar Usu√°rios'),
                                        
                                        // Usu√°rios pendentes
                                        pendingUsers.length > 0 && h('div', { style: { marginBottom: '40px' } },
                                            h('h4', { style: { color: '#ffd700', fontSize: '1.4rem', marginBottom: '20px' } }, '‚è≥ Usu√°rios Pendentes de Aprova√ß√£o'),
                                            h('div', { style: { display: 'grid', gap: '20px' } },
                                                pendingUsers.map(user =>
                                                    h('div', {
                                                        key: user.id,
                                                        style: {
                                                            background: 'rgba(255, 215, 0, 0.1)',
                                                            border: '2px solid #ffd700',
                                                            borderRadius: '15px',
                                                            padding: '25px',
                                                            display: 'flex',
                                                            justifyContent: 'space-between',
                                                            alignItems: 'center'
                                                        }
                                                    },
                                                        h('div', null,
                                                            h('h5', { style: { color: '#ffd700', fontSize: '1.2rem', margin: '0 0 5px 0' } }, user.nome),
                                                            h('p', { style: { color: '#fff', margin: '0 0 5px 0' } }, `ID: ${user.id} | Cargo: ${user.cargo}`),
                                                            h('p', { style: { color: '#228B22', margin: 0, fontSize: '0.9rem' } }, `Registrado em: ${new Date(user.createdAt).toLocaleDateString('pt-BR')}`)
                                                        ),
                                                        h('div', { style: { display: 'flex', gap: '15px' } },
                                                            h('button', {
                                                                onClick: () => handleAprovarUsuario(user.id),
                                                                style: {
                                                                    background: 'linear-gradient(45deg, #228B22, #32CD32)',
                                                                    color: '#fff',
                                                                    padding: '10px 20px',
                                                                    border: 'none',
                                                                    borderRadius: '8px',
                                                                    cursor: 'pointer',
                                                                    fontWeight: '700'
                                                                }
                                                            }, '‚úÖ Aprovar'),
                                                            h('button', {
                                                                onClick: () => handleReprovarUsuario(user.id),
                                                                style: {
                                                                    background: 'linear-gradient(45deg, #DC143C, #FF6347)',
                                                                    color: '#fff',
                                                                    padding: '10px 20px',
                                                                    border: 'none',
                                                                    borderRadius: '8px',
                                                                    cursor: 'pointer',
                                                                    fontWeight: '700'
                                                                }
                                                            }, '‚ùå Reprovar')
                                                        )
                                                    )
                                                )
                                            )
                                        ),

                                        // Usu√°rios aprovados
                                        h('div', null,
                                            h('h4', { style: { color: '#228B22', fontSize: '1.4rem', marginBottom: '20px' } }, '‚úÖ Usu√°rios Aprovados'),
                                            h('div', { style: { display: 'grid', gap: '15px' } },
                                                users.map(user =>
                                                    h('div', {
                                                        key: user.id,
                                                        style: {
                                                            background: 'rgba(34, 139, 34, 0.1)',
                                                            border: '2px solid #228B22',
                                                            borderRadius: '15px',
                                                            padding: '20px'
                                                        }
                                                    },
                                                        h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
                                                            h('div', null,
                                                                h('h5', { style: { color: '#228B22', fontSize: '1.1rem', margin: '0 0 5px 0' } }, user.nome),
                                                                h('p', { style: { color: '#fff', margin: 0 } }, `ID: ${user.id} | ${user.cargo}`)
                                                            ),
                                                            h('span', { 
                                                                style: { 
                                                                    background: '#228B22', 
                                                                    color: '#fff', 
                                                                    padding: '4px 12px', 
                                                                    borderRadius: '15px', 
                                                                    fontSize: '0.8rem',
                                                                    fontWeight: '700'
                                                                } 
                                                            }, 'ATIVO')
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    ),

                                    activeTab === 'checklists' && h('div', null,
                                        h('h3', { style: { color: '#ffd700', fontSize: '1.8rem', marginBottom: '30px', fontWeight: '800' } }, '‚úÖ Gerenciar Checklists'),
                                        checklists.filter(c => c.status === 'aguardando_aprovacao').length > 0 ? 
                                            h('div', { style: { display: 'grid', gap: '20px' } },
                                                checklists.filter(c => c.status === 'aguardando_aprovacao').map(checklist =>
                                                    h('div', {
                                                        key: checklist.createdAt,
                                                        style: {
                                                            background: 'rgba(255, 215, 0, 0.1)',
                                                            border: '2px solid #ffd700',
                                                            borderRadius: '15px',
                                                            padding: '25px'
                                                        }
                                                    },
                                                        h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '15px' } },
                                                            h('h5', { style: { color: '#ffd700', fontSize: '1.3rem', margin: 0 } }, `Checklist #${checklist.id}`),
                                                            h('div', { style: { display: 'flex', gap: '15px' } },
                                                                h('button', {
                                                                    onClick: () => handleAprovarItem(checklists, setChecklists, checklist.createdAt, 'aprovado'),
                                                                    style: {
                                                                        background: 'linear-gradient(45deg, #228B22, #32CD32)',
                                                                        color: '#fff',
                                                                        padding: '8px 16px',
                                                                        border: 'none',
                                                                        borderRadius: '8px',
                                                                        cursor: 'pointer',
                                                                        fontWeight: '700'
                                                                    }
                                                                }, '‚úÖ Aprovar'),
                                                                h('button', {
                                                                    onClick: () => handleReprovarItem(checklists, setChecklists, checklist.createdAt, 'reprovado'),
                                                                    style: {
                                                                        background: 'linear-gradient(45deg, #DC143C, #FF6347)',
                                                                        color: '#fff',
                                                                        padding: '8px 16px',
                                                                        border: 'none',
                                                                        borderRadius: '8px',
                                                                        cursor: 'pointer',
                                                                        fontWeight: '700'
                                                                    }
                                                                }, '‚ùå Reprovar')
                                                            )
                                                        ),
                                                        h('div', { style: { color: '#fff', display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '10px' } },
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Servidor: '), checklist.servidor),
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Funcion√°rio: '), checklist.funcionario),
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Nota: '), `${checklist.nota}/100`),
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Tipo: '), checklist.tipo === 'staff' ? 'Staff' : `RP - ${checklist.orgRP?.toUpperCase() || 'Geral'}`),
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Autor: '), `${checklist.autorNome} (${checklist.autorCargo})`)
                                                        ),
                                                        checklist.observacao && h('div', { style: { marginTop: '15px', padding: '12px', background: 'rgba(0,0,0,0.3)', borderRadius: '8px' } },
                                                            h('strong', { style: { color: '#ffd700' } }, 'Observa√ß√£o: '),
                                                            h('span', { style: { color: '#fff' } }, checklist.observacao)
                                                        )
                                                    )
                                                )
                                            ) : h('p', { style: { color: '#ffd700', textAlign: 'center', fontSize: '1.2rem' } }, '‚úÖ Nenhum checklist pendente')
                                    ),

                                    activeTab === 'auditorias' && h('div', null,
                                        h('h3', { style: { color: '#ffd700', fontSize: '1.8rem', marginBottom: '30px', fontWeight: '800' } }, 'üîç Gerenciar Auditorias'),
                                        auditorias.filter(a => a.status === 'aguardando_aprovacao').length > 0 ? 
                                            h('div', { style: { display: 'grid', gap: '20px' } },
                                                auditorias.filter(a => a.status === 'aguardando_aprovacao').map(auditoria =>
                                                    h('div', {
                                                        key: auditoria.createdAt,
                                                        style: {
                                                            background: 'rgba(255, 215, 0, 0.1)',
                                                            border: '2px solid #ffd700',
                                                            borderRadius: '15px',
                                                            padding: '25px'
                                                        }
                                                    },
                                                        h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '15px' } },
                                                            h('h5', { style: { color: '#ffd700', fontSize: '1.3rem', margin: 0 } }, `Auditoria #${auditoria.id}`),
                                                            h('div', { style: { display: 'flex', gap: '15px' } },
                                                                h('button', {
                                                                    onClick: () => handleAprovarItem(auditorias, setAuditorias, auditoria.createdAt, 'aprovada'),
                                                                    style: {
                                                                        background: 'linear-gradient(45deg, #228B22, #32CD32)',
                                                                        color: '#fff',
                                                                        padding: '8px 16px',
                                                                        border: 'none',
                                                                        borderRadius: '8px',
                                                                        cursor: 'pointer',
                                                                        fontWeight: '700'
                                                                    }
                                                                }, '‚úÖ Aprovar'),
                                                                h('button', {
                                                                    onClick: () => handleReprovarItem(auditorias, setAuditorias, auditoria.createdAt, 'reprovada'),
                                                                    style: {
                                                                        background: 'linear-gradient(45deg, #DC143C, #FF6347)',
                                                                        color: '#fff',
                                                                        padding: '8px 16px',
                                                                        border: 'none',
                                                                        borderRadius: '8px',
                                                                        cursor: 'pointer',
                                                                        fontWeight: '700'
                                                                    }
                                                                }, '‚ùå Reprovar')
                                                            )
                                                        ),
                                                        h('div', { style: { color: '#fff', display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '10px' } },
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Servidor: '), auditoria.servidor),
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Funcion√°rio: '), auditoria.funcionario),
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Nota: '), `${auditoria.nota}/${auditoria.notaMaxima || 140}`),
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Tipo: '), auditoria.tipo === 'staff' ? `Staff - ${auditoria.pastaStaff?.toUpperCase() || 'Geral'}` : `RP - ${auditoria.orgRP?.toUpperCase() || 'Geral'}`),
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Autor: '), `${auditoria.autorNome} (${auditoria.autorCargo})`)
                                                        ),
                                                        auditoria.observacao && h('div', { style: { marginTop: '15px', padding: '12px', background: 'rgba(0,0,0,0.3)', borderRadius: '8px' } },
                                                            h('strong', { style: { color: '#ffd700' } }, 'Observa√ß√£o: '),
                                                            h('span', { style: { color: '#fff' } }, auditoria.observacao)
                                                        )
                                                    )
                                                )
                                            ) : h('p', { style: { color: '#ffd700', textAlign: 'center', fontSize: '1.2rem' } }, '‚úÖ Nenhuma auditoria pendente')
                                    ),

                                    activeTab === 'financeiro' && h('div', null,
                                        h('h3', { style: { color: '#ffd700', fontSize: '1.8rem', marginBottom: '30px', fontWeight: '800' } }, 'üí∏ Gerenciar Financeiro'),
                                        solicitacoesFinanceiras.filter(s => s.status === 'aguardando_aprovacao').length > 0 ? 
                                            h('div', { style: { display: 'grid', gap: '20px' } },
                                                solicitacoesFinanceiras.filter(s => s.status === 'aguardando_aprovacao').map(solicitacao =>
                                                    h('div', {
                                                        key: solicitacao.createdAt,
                                                        style: {
                                                            background: 'rgba(255, 215, 0, 0.1)',
                                                            border: '2px solid #ffd700',
                                                            borderRadius: '15px',
                                                            padding: '25px'
                                                        }
                                                    },
                                                        h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '15px' } },
                                                            h('h5', { style: { color: '#ffd700', fontSize: '1.3rem', margin: 0 } }, solicitacao.descricao),
                                                            h('div', { style: { display: 'flex', gap: '15px' } },
                                                                h('button', {
                                                                    onClick: () => handleAprovarItem(solicitacoesFinanceiras, setSolicitacoesFinanceiras, solicitacao.createdAt, 'aprovada'),
                                                                    style: {
                                                                        background: 'linear-gradient(45deg, #228B22, #32CD32)',
                                                                        color: '#fff',
                                                                        padding: '8px 16px',
                                                                        border: 'none',
                                                                        borderRadius: '8px',
                                                                        cursor: 'pointer',
                                                                        fontWeight: '700'
                                                                    }
                                                                }, '‚úÖ Aprovar'),
                                                                h('button', {
                                                                    onClick: () => handleReprovarItem(solicitacoesFinanceiras, setSolicitacoesFinanceiras, solicitacao.createdAt, 'reprovada'),
                                                                    style: {
                                                                        background: 'linear-gradient(45deg, #DC143C, #FF6347)',
                                                                        color: '#fff',
                                                                        padding: '8px 16px',
                                                                        border: 'none',
                                                                        borderRadius: '8px',
                                                                        cursor: 'pointer',
                                                                        fontWeight: '700'
                                                                    }
                                                                }, '‚ùå Reprovar')
                                                            )
                                                        ),
                                                        h('div', { style: { color: '#fff', display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '10px' } },
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Tipo: '), solicitacao.tipo.toUpperCase()),
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Valor: '), `R$ ${parseFloat(solicitacao.valor).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}`),
                                                            solicitacao.idCorrupto && h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#DC143C' } }, 'ID Corrupto: '), solicitacao.idCorrupto),
                                                            solicitacao.nomeCorrupto && h('p', { style: { margin: 0 } }, h('strong', { style: { color: '#DC143C' } }, 'Nome Corrupto: '), solicitacao.nomeCorrupto),
                                                            h('p', { style: { margin: 0 } }, h('strong', null, 'Autor: '), `${solicitacao.autorNome} (${solicitacao.autorCargo})`)
                                                        ),
                                                        h('div', { style: { marginTop: '15px', padding: '12px', background: 'rgba(0,0,0,0.3)', borderRadius: '8px' } },
                                                            h('strong', { style: { color: '#ffd700' } }, 'Justificativa: '),
                                                            h('span', { style: { color: '#fff' } }, solicitacao.justificativa)
                                                        )
                                                    )
                                                )
                                            ) : h('p', { style: { color: '#ffd700', textAlign: 'center', fontSize: '1.2rem' } }, '‚úÖ Nenhuma solicita√ß√£o financeira pendente')
                                    )
                                )
                            )
                        );
                    };

                    // Se n√£o logado, mostrar login
                    if (!currentUser) {
                        return h(LoginPage);
                    }

                    // Roteamento completo
                    switch (currentView) {
                        case 'checklist':
                            return h(ChecklistPage);
                        case 'auditoria':
                            return h(AuditoriaPage);
                        case 'painel':
                            return h(PainelCidadePage);
                        case 'financeiro':
                            return h(FinanceiroPage);
                        case 'admin':
                            return (currentUser?.cargo === 'CEO' || currentUser?.cargo === 'Diretor') 
                                ? h(AdminPage) 
                                : h(DashboardPage);
                        case 'dashboard':
                        default:
                            return h(DashboardPage);
                    }
                };

                // Renderizar aplica√ß√£o
                const rootElement = document.getElementById('root');
                if (rootElement) {
                    const root = ReactDOM.createRoot(rootElement);
                    root.render(h(MetaXSystem));
                    console.log('‚úÖ MetaX v6.0 - Sistema Tecnol√≥gico carregado com sucesso!');
                    console.log('üé® Nova identidade visual: Preto, Dourado, Verde Escuro e Branco');
                    console.log('üî• Sistema completo com todas as perguntas espec√≠ficas implementadas!');
                } else {
                    throw new Error('Elemento root n√£o encontrado');
                }

            } catch (error) {
                console.error('‚ùå Erro ao carregar MetaX:', error);
                document.getElementById('root').innerHTML = `
                    <div style="
                        min-height: 100vh;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
                        color: #ffd700;
                        font-family: system-ui;
                        text-align: center;
                        padding: 2rem;
                    ">
                        <div style="
                            background: rgba(0,0,0,0.8);
                            backdrop-filter: blur(10px);
                            border-radius: 1rem;
                            padding: 2rem;
                            border: 2px solid #ffd700;
                            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
                        ">
                            <h1 style="font-size: 4rem; margin-bottom: 1rem;">‚ö†Ô∏è</h1>
                            <h2 style="font-size: 1.8rem; margin-bottom: 1rem; color: #ffd700;">Erro no Sistema MetaX</h2>
                            <p style="margin-bottom: 1.5rem; opacity: 0.9; color: #fff;">${error.message}</p>
                            <button onclick="location.reload()" style="
                                background: linear-gradient(45deg, #ffd700, #228B22);
                                color: #000;
                                border: none;
                                padding: 1rem 2rem;
                                border-radius: 0.5rem;
                                font-weight: bold;
                                cursor: pointer;
                                font-size: 1rem;
                                text-transform: uppercase;
                            ">
                                üîÑ Recarregar Sistema
                            </button>
                        </div>
                    </div>
                `;
            }
        }, 3000); // 3 segundos para carregamento tecnol√≥gico
    </script>
</body>
</html>
